"use strict";(self.webpackChunkcodec_wiki=self.webpackChunkcodec_wiki||[]).push([[1502],{1679:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/compare-guide-6feb966fbd9d73be4a3097c41691c4ad.webp"},2347:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var s=i(7233),t=i(4848),o=i(8453);const a={title:"AV1 Encoding for Dummies",description:"This guide will show you how to encode in AV1 the *right* and *optimal* way.",slug:"av1-encoding-for-dummies",authors:[{name:"Simulping",title:"Maintainer / Encoder",url:"https://github.com/Simulping",image_url:"https://avatars.githubusercontent.com/u/12994794?v=4"},{name:"Gianni Rosato",title:"Maintainer",url:"https://github.com/gianni-rosato",image_url:"https://avatars.githubusercontent.com/u/35711760?v=4"}],tags:["video","compression"],image:"/img/compare-guide.webp",hide_table_of_contents:!1},r=void 0,l={authorsImageUrls:[void 0,void 0]},c=[{value:"Installing the Tools",id:"installing-the-tools",level:2},{value:"Microsoft Windows",id:"microsoft-windows",level:2},{value:"The GUI Way",id:"the-gui-way",level:3},{value:"The WSL2 Way",id:"the-wsl2-way",level:3},{value:"The Automated Way",id:"the-automated-way",level:3},{value:"The Manual Way",id:"the-manual-way",level:3},{value:"macOS",id:"macos",level:2},{value:"Linux",id:"linux",level:2},{value:"The GUI Way",id:"the-gui-way-1",level:3},{value:"The TUI Way",id:"the-tui-way",level:3},{value:"The Compiling Route",id:"the-compiling-route",level:3},{value:"Ubuntu",id:"ubuntu",level:4},{value:"Arch",id:"arch",level:3},{value:"Compiling aom-av1-lavish",id:"compiling-aom-av1-lavish",level:4},{value:"Encoding",id:"encoding",level:2},{value:"Merging Everything",id:"merging-everything",level:2},{value:"Tips &amp; Tricks",id:"tips--tricks",level:2},{value:"Final Thoughts",id:"final-thoughts",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["This guide will show you how to encode in AV1 the ",(0,t.jsx)(n.em,{children:"right"})," and ",(0,t.jsx)(n.em,{children:"optimal"})," way. Yes, you using standalone ",(0,t.jsx)(n.code,{children:"libaom"}),", ",(0,t.jsx)(n.code,{children:"libsvtav1"}),", and ",(0,t.jsx)(n.code,{children:"librav1e"})," from FFmpeg or even piping ",(0,t.jsx)(n.code,{children:"yuv4mpeg"})," into ",(0,t.jsx)(n.strong,{children:"mainline"})," aomenc are all unoptimal."]}),"\n",(0,t.jsx)(n.admonition,{title:"Outdated Information",type:"danger",children:(0,t.jsxs)(n.p,{children:["While a lot of the information presented in this guide is still relevant and correct, the AV1 ecosystem has changed dramatically since this guide's inception which has demanded a rewrite. Please see the ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/blog/av1-for-dummies",children:"AV1 for Dummies"})," blog post for more information."]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Compare",src:i(1679).A+"",width:"1045",height:"588"})}),"\n",(0,t.jsxs)(n.p,{children:["In this guide, we'll be installing Av1an for chunked encoding and infinite threading, because the current state of AV1 encoders, except for ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/encoders/SVT-AV1",children:"SVT-AV1"}),", unfortunately lacks threading and will only use very low amount of cores, which hampers speeds. The only caveat to this approach is ",(0,t.jsx)(n.strong,{children:"RAM consumption"}),", encoding 2160p (4K) with ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/encoders/aomenc",children:"aomenc"})," with 4 workers could take upwards of ",(0,t.jsx)(n.strong,{children:"16GB"})," of RAM! So do keep this in mind."]}),"\n",(0,t.jsx)(n.h2,{id:"installing-the-tools",children:"Installing the Tools"}),"\n",(0,t.jsx)(n.p,{children:"Given all of the different operating systems that people use on a day to day basis and the various different encoding workflows that exist, there are a number of ways to do this."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Jump to"}),": ",(0,t.jsx)(n.a,{href:"#microsoft-windows",children:"Windows"})," | ",(0,t.jsx)(n.a,{href:"#macos",children:"macOS"})," | ",(0,t.jsx)(n.a,{href:"#linux",children:"Linux"})]}),"\n",(0,t.jsx)(n.h2,{id:"microsoft-windows",children:"Microsoft Windows"}),"\n",(0,t.jsx)(n.h3,{id:"the-gui-way",children:"The GUI Way"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Install ",(0,t.jsx)(n.a,{href:"https://github.com/n00mkrad/nmkoder",children:"NMKODER"})," which is a GUI front-end to av1an with all dependencies installed."]}),"\n",(0,t.jsx)(n.li,{children:"You're done, you can skip to the encoding part"}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Almost abandonware",type:"danger",children:(0,t.jsx)(n.p,{children:"Since Nmkoder already ships everything by default and its last release was 29th March 2022. You need to manually update all encoders and tools to get better encoding speeds. Missing out on updates will result in your encodes being sub-optimal."})}),"\n",(0,t.jsx)(n.h3,{id:"the-wsl2-way",children:"The WSL2 Way"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"(Recommended)"})}),"\n",(0,t.jsx)(n.p,{children:"If you're not already familiar with WSL2, the The Windows Subsystem for Linux (WSL) is a feature of the Windows operating system that allows you to run a Linux file system, along with Linux command-line tools and GUI apps, directly on Windows. This lets Linux distributions run on bare metal without managing any virtual machines, so encoding performance is very good."}),"\n",(0,t.jsxs)(n.p,{children:["The easiest way to encode with WSL2 is to use ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/rav1ator-cli",children:"rAV1ator CLI"}),", an interactive TUI for ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/av1an",children:"Av1an"}),". An ArchWSL2 installation tutorial is provided ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/rav1ator-cli#windows",children:"here"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"the-automated-way",children:"The Automated Way"}),"\n",(0,t.jsxs)(n.p,{children:["There is now a batch script for automating the install process, which can be found ",(0,t.jsx)(n.a,{href:"https://github.com/Hishiro64/av1an-win-script",children:"here"}),". The instructions are in the README file."]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["The script will download outdated version encoders and tools such as ",(0,t.jsx)(n.code,{children:"aom-av1-psy"})," and MKVToolNix v76.0, if you are fine with these you can proceed."]})}),"\n",(0,t.jsx)(n.h3,{id:"the-manual-way",children:"The Manual Way"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Install ",(0,t.jsx)(n.strong,{children:"Python 3.10.x, this will change so consult from the"})," ",(0,t.jsx)(n.a,{href:"http://www.vapoursynth.com/doc/installation.html",children:"Vapoursynth website"})," ",(0,t.jsx)(n.strong,{children:"if you're reading this from the future"})," from ",(0,t.jsx)(n.a,{href:"https://www.python.org/downloads/windows/",children:"here"}),' and select "Windows Installer 64-bit". Upon installation check the tick for adding Python to PATH like so\n',(0,t.jsx)(n.img,{alt:"Python PATH",src:i(8547).A+"",width:"672",height:"417"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download and install Vapoursynth from ",(0,t.jsx)(n.a,{href:"https://github.com/vapoursynth/vapoursynth/releases",children:"here"}),' and select "VapourSynth64-RXX.exe"']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the terminal and type ",(0,t.jsx)(n.code,{children:"vsrepo.py install lsmas ffms2"})," to install some plugins for Av1an to work."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download MKVToolNix from ",(0,t.jsx)(n.a,{href:"https://mkvtoolnix.download/downloads.html#windows",children:"here"}),', select "mkvtoolnix-64bit-XX.X.X-setup.exe", and install ',(0,t.jsx)(n.strong,{children:"(Also available on winget!)"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download Av1an from ",(0,t.jsx)(n.a,{href:"https://github.com/master-of-zen/Av1an/releases",children:"here"}),' (SELECT LATEST AND CLICK THE "ASSETS" DROPDOWN)']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download ",(0,t.jsx)(n.strong,{children:"shared libraries"})," FFmpeg from ",(0,t.jsx)(n.a,{href:"https://www.gyan.dev/ffmpeg/builds",children:"gyan.dev"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download a pre-built fork of Aomenc (",(0,t.jsx)(n.a,{href:"https://github.com/Clybius/aom-av1-lavish/tree/Endless_Merging",children:"aom-av1-lavish"}),") which has neat stuff such as sane defaults, new tunes, optimizations, etc. This can be downloaded for Windows ",(0,t.jsx)(n.a,{href:"https://autumn.revolt.chat/attachments/download/-2EiZW1edcT9anApFZ1PJBEber-pJ6z02NiQBjbr28",children:"here"})," ",(0,t.jsx)(n.em,{children:"(Current as of Sept 6, 2023)"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["If you opt to compile aomenc yourself, you can view the instructions on how to do that ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/encoders/aomenc/#installation",children:"here"}),"."]})}),"\n",(0,t.jsxs)(n.ol,{start:"8",children:["\n",(0,t.jsxs)(n.li,{children:["Move Av1an, FFmpeg ",(0,t.jsx)(n.strong,{children:"(Including the FFmpeg DLLs)"}),", and aomenc to somewhere preferable, eg ",(0,t.jsx)(n.code,{children:"C:\\Encoding"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Add the folder ",(0,t.jsx)(n.strong,{children:"AND MKVTOOLNIX INSTALLATION FOLDER"})," to the ",(0,t.jsx)(n.a,{href:"https://www.maketecheasier.com/what-is-the-windows-path/",children:"Windows PATH environment"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"macos",children:"macOS"}),"\n",(0,t.jsx)(n.p,{children:"macOS is very similar to Linux, although there aren't any GUI tools for AV1 encoding that I can comfortably recommend."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Homebrew + Macports for Av1an + rav1e:"}),"\n",(0,t.jsxs)(n.em,{children:["Note that some commands may have to be run with ",(0,t.jsx)(n.code,{children:"sudo"}),", which I won't explicitly include for security reasons."]})]}),"\n",(0,t.jsx)(n.p,{children:"Installing the Homebrew package manager is a well documented process at this point:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["As is installing MacPorts. Install the relevent ",(0,t.jsx)(n.code,{children:".pkg"})," for your macOS version from the MacPorts Project website:\n",(0,t.jsx)(n.a,{href:"https://www.macports.org/install.php",children:"www.macports.org/install.php"})]}),"\n",(0,t.jsx)(n.p,{children:"Now, you can run the following commands:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"brew update && brew upgrade\nbrew install rav1e aom mkvtoolnix ffmpeg\n# Usually you must run MacPorts commands for package installations as root\nport upgrade outdated\nport install av1an\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This is the easiest way to get everything set up & working to produce AV1 video with ",(0,t.jsx)(n.code,{children:"rav1e"})," or mainline ",(0,t.jsx)(n.code,{children:"aomenc"})," & Av1an. You can check that things are installed by running the following commands & parsing their output:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"% av1an --version\nav1an 0.4.1-unstable (rev e10880d) (Release)\n\n* Compiler\n  rustc 1.70.0 (LLVM 16.0)\n\n* Target Triple\n  aarch64-apple-darwin\n\n* Date Info\n  Commit Date:  2023-06-25\n\n* VapourSynth Plugins\n  systems.innocent.lsmas : Not found\n  com.vapoursynth.ffms2  : Not found\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'% rav1e --version | grep "release" -C 1\nrav1e 0.6.6 () (release)\nrustc 1.69.0 (84c898d65 2023-04-16) (built from a source tarball) aarch64-apple-darwin\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'% aomenc --help | grep "AOMedia" -C 3\n\nIncluded encoders:\n\n    av1    - AOMedia Project AV1 Encoder 3.6.1 (default)\n\n        Use --codec to switch to a non-default encoder.\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Notice ",(0,t.jsx)(n.code,{children:"systems.innocent.lsmas : Not found"})," in the Av1an output. This means you won't be able to use the lsmash chunking method through vapoursynth & may instead have to rely on hybrid chunking, through ",(0,t.jsx)(n.code,{children:"-m hybrid"}),". This is slower & takes up disk space while encoding, but still works. A sample Av1an command with this basic installation may look like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'av1an -i "input" -y --resume --verbose --split-method av-scenechange -m hybrid -c mkvmerge -e rav1e --force -v " --tiles 8 -s 4 --quantizer 80 --no-scene-detection" --photon-noise 7 --chroma-noise --pix-format yuv420p10le -w 8 -o "output.mkv"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Building From Source"})}),"\n",(0,t.jsx)(n.p,{children:"If you want lsmash support, aom-av1-lavish instead of mainline, or anything else that isn't covered by the more basic installation, you'll have to compile from source. Things are very similar to Linux, with a few oddities:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["macOS sometimes doesn't have a ",(0,t.jsx)(n.code,{children:"/usr/local/bin"})," by default. You can fix this by doing ",(0,t.jsx)(n.code,{children:"mkdir /usr/local/bin"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Homebrew installs ",(0,t.jsx)(n.em,{children:"everything"})," in its own directory structure. If you're building things from source that rely on libraries from vapoursynth, zimg, lsmash, etc, make sure to copy them from ",(0,t.jsx)(n.code,{children:"/opt/homebrew/lib"})," to ",(0,t.jsx)(n.code,{children:"/usr/local/lib"}),". Finding them is a matter of ",(0,t.jsx)(n.code,{children:'ls | grep "keyword"'})," & copying what looks reasonable to be associated with the tool you're using."]}),"\n",(0,t.jsx)(n.li,{children:"Building most things from source will have instructions for *nix which work for both macOS & Linux. Even if it says Linux, there's a good chance it'll work on macOS as well, & it is always worth trying Linux build instructions on Mac. I won't be going through building every encoding tool & dependency from source, as it is generally much more intuitive than Windows, but building Av1an is worth detailing here just as an example."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'brew install git rust nasm\ngit clone https://github.com/master-of-zen/Av1an\ncd Av1an\nRUSTFLAGS="-C target-cpu=native" cargo build --release\ncd .. && cd target/release\ncp av1an /usr/local/bin\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"More Difficult: Building aom-av1-lavish from Source"})}),"\n",(0,t.jsx)(n.p,{children:"If you want to make the most out of your hardware & eke out every last drop of quality, it may be worth building aom-av1-lavish from source. The first step is to clone it from the Endless Merging branch:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/Clybius/aom-av1-lavish -b Endless_Merging\ncd aom-av1-lavish\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Now, you need to make some manual changes to the source code until Clybius merges ",(0,t.jsx)(n.a,{href:"https://github.com/Clybius/aom-av1-lavish/pull/1/files",children:"this commit"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Add the line ",(0,t.jsx)(n.code,{children:'#include "aq_variance.h"'})," at line 19 in ",(0,t.jsx)(n.code,{children:"av1/encoder/encodeframe_utils.c"})]}),"\n",(0,t.jsxs)(n.li,{children:["Comment out line 2546 in ",(0,t.jsx)(n.code,{children:"av1/encoder/speed_features.c"}),". This line is ",(0,t.jsx)(n.code,{children:"const int qindex_thresh_cdef_sf_s1_s3_l2[2] = { 92, 48 };"})," & becomes ",(0,t.jsx)(n.code,{children:"// const int qindex_thresh_cdef_sf_s1_s3_l2[2] = { 92, 48 };"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Now you can continue to build according to the Linux instructions below. Obviously you'll need cmake, which you can install with homebrew along with any other tools you may need. While still in the ",(0,t.jsx)(n.code,{children:"aom-av1-lavish"})," directory:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'mkdir -p aom_build && cd aom_build\ncmake .. -DBUILD_SHARED_LIBS=0 -DENABLE_DOCS=0 -DCONFIG_TUNE_BUTTERAUGLI=0 -DCONFIG_TUNE_VMAF=0 -DCONFIG_AV1_DECODER=0 -DENABLE_TESTS=0 -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS="-flto -O3 -march=native" -DCMAKE_C_FLAGS="-flto -O3 -march=native -pipe -fno-plt" -DCMAKE_LD_FLAGS="-flto -O3 -march=native"\nmake -j$(nproc)\n# This may need to be run as root:\nmake install\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Now you can run ",(0,t.jsx)(n.code,{children:'aomenc --help | grep "AOMedia" -C 3'})," to see if lavish installed. If you're getting the same output as above, you may need to copy the ",(0,t.jsx)(n.code,{children:"aomenc"})," executable to ",(0,t.jsx)(n.code,{children:"/opt/local/bin"}),", ",(0,t.jsx)(n.code,{children:"/usr/local/bin"}),", & ",(0,t.jsx)(n.code,{children:"/opt/homebrew/bin"})," if you already installed mainline aomenc. Running the version info command again, the correct output should look something like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"% aomenc --help | grep AOMedia -C 3\n\nIncluded encoders:\n\n    av1    - AOMedia Project AV1 Encoder Psy v3.6.0 (default)\n\n        Use --codec to switch to a non-default encoder.\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Notice how it says ",(0,t.jsx)(n.code,{children:"AOMedia Project AV1 Encoder Psy"})," instead of ",(0,t.jsx)(n.code,{children:"AOMedia Project AV1 Encoder"}),". You should be all set after this to start using aom-av1-lavish & following the current parameter meta as outlined below."]}),"\n",(0,t.jsx)(n.h2,{id:"linux",children:"Linux"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Yet again, try using Arch. It's way easier."})}),"\n",(0,t.jsx)(n.h3,{id:"the-gui-way-1",children:"The GUI Way"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Install ",(0,t.jsx)(n.a,{href:"https://github.com/gianni-rosato/aviator",children:"Aviator"})," (",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/encoders/SVT-AV1",children:"SVT-AV1"})," + ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/FFmpeg",children:"FFmpeg"}),") or ",(0,t.jsx)(n.a,{href:"https://giannirosato.com/blog/post/aviator-1/",children:"rAV1ator"})," basically same thing but ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/av1an.mdx",children:"Av1an"})," + ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/encoders/rav1e",children:"rav1e"}),". Both are only available as ",(0,t.jsx)(n.a,{href:"https://beta.flathub.org/apps/net.natesales.Aviator",children:"Flatpaks"}),". Keep in mind Aviator ships with ",(0,t.jsx)(n.strong,{children:"SVT-AV1"})," and rAV1ator with ",(0,t.jsx)(n.strong,{children:"rav1e"})," instead of aomenc/AOM-AV1, which I will not be covering here."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"the-tui-way",children:"The TUI Way"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"(Recommended)"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Install ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/rav1ator-cli",children:"rav1ator-cli"}),", a TUI for using Av1an meant to be easy to use. Much more flexible than the GUI options & can work with a number of encoders. See ",(0,t.jsx)(n.a,{href:"https://wiki.x266.mov/docs/utilities/rav1ator-cli/#installation",children:"this page"})," for more info. Can be easily used on any distro."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"the-compiling-route",children:"The Compiling Route"}),"\n",(0,t.jsx)(n.h4,{id:"ubuntu",children:"Ubuntu"}),"\n",(0,t.jsxs)(n.p,{children:["The guide below is targeted towards 22.04, packages and other things may be different on other versions. First Install Rust via ",(0,t.jsx)(n.code,{children:"rustup"})," first, as apt version of Rust is severely outdated, then you can continue."]}),"\n",(0,t.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo apt install wget python unzip unrar build-essential meson autoconf automake libtool git nasm yasm python3-dev python3-pip cython3 libass-dev libqt5websockets5-dev libfftw3-dev libtesseract-dev ffmpeg libavcodec-dev libavformat-dev libswscale-dev libavutil-dev libswresample-dev libmediainfo-dev mkvtoolnix mediainfo perl nasm yasm git cmake libavutil-dev libavcodec-dev libavformat-dev libavdevice-dev libavfilter-dev libswscale-dev libswresample-dev libpostproc-dev llvm libclang-dev libssl-dev\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install l-smash:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git clone https://github.com/l-smash/l-smash.git\ncd l-smash\n./configure --enable-shared --extra-cflags="-march=native"\nmake -j$(nproc)\nsudo make install\n'})}),"\n",(0,t.jsx)(n.p,{children:"Install zimg:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone --recursive https://github.com/sekrit-twc/zimg.git\ncd zimg\n./autogen.sh\n./configure\nmake -j$(nproc)\nsudo make install\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install ImageMagick:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/ImageMagick/ImageMagick\ncd ImageMagick\n./configure\nmake -j$(nproc)\nsudo make install\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install Vapoursynth R63:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'wget https://github.com/vapoursynth/vapoursynth/archive/refs/tags/R63.zip\nunzip R63.zip\ncd vapoursynth-R63\n./autogen.sh\n./configure CFLAGS="-march=native" CXXFLAGS="-march=native" --libdir=/usr/lib\nmake -j$(nproc)\nsudo make install\nsudo mkdir /usr/lib/vapoursynth\nsudo ldconfig\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The plugin directory will be located in ",(0,t.jsx)(n.code,{children:"/usr/lib/vapoursynth"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Install L-SMASH-Works Vapoursynth Plugin:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git clone https://github.com/AkarinVS/L-SMASH-Works -b ffmpeg-4.5\ncd L-SMASH-Works/VapourSynth && mkdir build && cd build\nmeson .. --optimization=3 --default-library=static -Db_lto=true -Dc_args="-march=native" -Dcpp_args="-march=native"\nninja -j$(nproc)\nsudo cp libvslsmashsource.so /usr/lib/vapoursynth/\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.p,{children:["L-SMASH-Works doesn't work on ",(0,t.jsx)(n.strong,{children:"aarch64"}),", it is recommended to use other plugins instead."]})}),"\n",(0,t.jsx)(n.p,{children:"Install FFMS2 Vapoursynth Plugin:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git clone https://github.com/FFMS/ffms2\ncd ffms2\n./autogen.sh\n./configure CFLAGS="-O3 -march=native" CXXFLAGS="-O3 -march=native"\nmake -j$(nproc)\nsudo cp src/core/.libs/libffms2.so src/core/.libs/libffms2.so.5 src/core/.libs/libffms2.so.5.0.0 /usr/lib/vapoursynth\n'})}),"\n",(0,t.jsx)(n.p,{children:"Install Av1an:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git clone https://github.com/master-of-zen/Av1an\ncd Av1an\nRUSTFLAGS="-C target-cpu=native" cargo build --release\nsudo cp target/release/av1an /usr/local/bin\n'})}),"\n",(0,t.jsxs)(n.p,{children:["When there's no errors, proceed to compiling ",(0,t.jsx)(n.code,{children:"aom-av1-lavish"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"arch",children:"Arch"}),"\n",(0,t.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S vapoursynth ffmpeg av1an mkvtoolnix-gui git perl cmake ninja meson nasm vapoursynth-plugin-lsmashsource ffms2\n"})}),"\n",(0,t.jsx)(n.p,{children:"you're done, proceed."}),"\n",(0,t.jsx)(n.h4,{id:"compiling-aom-av1-lavish",children:"Compiling aom-av1-lavish"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git clone https://github.com/Clybius/aom-av1-lavish -b Endless_Merging\ncd aom-av1-lavish && mkdir -p aom_build && cd aom_build\ncmake .. -DBUILD_SHARED_LIBS=0 -DENABLE_DOCS=0 -DCONFIG_TUNE_BUTTERAUGLI=0 -DCONFIG_TUNE_VMAF=0 -DCONFIG_AV1_DECODER=0 -DENABLE_TESTS=0 -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS="-flto -O3 -march=native" -DCMAKE_C_FLAGS="-flto -O3 -march=native -pipe -fno-plt"\nmake -j$(nproc)\nsudo make install\n'})}),"\n",(0,t.jsx)(n.h2,{id:"encoding",children:"Encoding"}),"\n",(0,t.jsxs)(n.p,{children:["The moment you've all been waiting for, let's just get into it. Here's an example ",(0,t.jsx)(n.em,{children:"recommended"})," parameter as of now (09/03/23) [MM/DD/YY]:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'av1an -x 300 -i input.mkv -w 4 -e aom -c mkvmerge --resume -m lsmash --photon-noise=10 --set-thread-affinity=2 --verbose -a " -an " -f " -an " -v " --bit-depth=10 --cpu-used=4 --end-usage=q --cq-level=24 --threads=2 --tile-columns=0 --tile-rows=0 --lag-in-frames=64 --tune-content=psy --tune=ssim --enable-keyframe-filtering=1 --disable-kf --kf-max-dist=9999 --enable-qm=1 --deltaq-mode=0 --aq-mode=0 --quant-b-adapt=1 --enable-fwd-kf=0 --arnr-strength=1 --sb-size=dynamic --enable-dnl-denoising=0 " -o "output.mkv"\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Parameter Meta",type:"info",children:(0,t.jsxs)(n.p,{children:["It is strongly recommended to join the ",(0,t.jsx)(n.a,{href:"https://discord.gg/vpREHAvYvh",children:"AV1 Discord server"})," to get the latest updates on what to use and which to set, as it's the only easily reachable place for everything AV1 & encoding tips in general."]})}),"\n",(0,t.jsx)(n.p,{children:"Now let's dissect it one-by-one"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Av1an parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"-i"})," Input."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"-x 300"})," Sets scene split length to 300 frames, you can increase it for more quality at the tradeoff of video seekability."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"-w 4"}),' Specifies the amount of "workers" or amount of encoders working on the video.']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--verbose"})," Sets logging to verbose."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--resume"})," Resumes the encode even when you haven't encoded yet. I strongly recommend leaving this if you resume a lot since you can accidentally delete your whole progress (There's no delete confirmation feature.. yet) if you \"resumed\" without the parameter in place."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"-e aom"})," Specifies we're using aomenc encoder which should be the default option."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"-c mkvmerge"})," Specifies we're using mkvmerge (MKVToolNix) to concatenate the parts when done, you can specify with ffmpeg if you want to but this is the best method."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"-m lsmash"})," Specifies we're using l-smash (Vapoursynth plugin) to split the videos, this is also the best method because ffms2 causes video lag (Tested a year ago, might change now) and other methods just suck (Slow and not worth it, learned the hard way). You can attempt to use ffms2 when inputting VC-1 videos as it is not possible with l-smash (Or convert it to lossless with x264 qp 0)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:'-f " -an "'})," ",(0,t.jsx)(n.code,{children:"-f"})," Stands for ffmpeg parameters, ",(0,t.jsx)(n.code,{children:"-an"})," is to remove all audio since its better to encode and merge it separately. To crop use ",(0,t.jsx)(n.code,{children:'-f " -an -vf crop=1920:800 "'})," for example to crop the video to 1920x800."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:'-v " "'})," Is where you put the encoder's parameters in."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:'-a " -an "'})," FFmpeg audio encoding options, we're removing it cause we can always add it later. But if you want to, you can also encode directly. Here's an example for encoding to Opus using libopus assuming stereo: ",(0,t.jsx)(n.code,{children:'-a " -c:a libopus -b:a 128k "'}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--photon-noise=10"})," AV1 grain synthesis, which is a technique where the encoder puts fake grain in so it looks more natural and potentially hiding video artifacts (cause grain is hard to encode and explodes bitrate usage because of their randomness), 5-8 for almost none to little grain, 10-14 for medium, 15+ heavy, 20+ extremely heavy, 30+ for extremely grainy 90s live action films."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--set-thread-affinity=2"})," Pins the thread to the encoder, aligns with ",(0,t.jsx)(n.code,{children:"--threads=2"})," in the encoder parameter so set them accordingly."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"aomenc parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--bit-depth=10"})," We're using 10bit because it makes the video smaller and reduces ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Video_codecs#contouring",children:"banding"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--cpu-used=4"})," This is the preset which ranges from 0-9, you can go to 3 if you want more efficiency, 2 if you have a lot of time, 4 is the sweet spot, and 6 if you want speed. Don't go above 6 (Worst efficiency) or even 0 (It would take WEEKS to finish)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--end-usage=q --cq-level=24"})," This specifies that we are going to use a knockoff version of CRF level similar to x264/x265 encoders, in this case CRF 24."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--threads=2"})," Sets the amount of threads the encoder can use, aligns with ",(0,t.jsx)(n.code,{children:"--set-thread-affinity"})," in Av1an."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--tile-columns=0 --tile-rows=0"})," This is the tiles options, where the encoder splits the videos into tiles to encode faster, see the image below (Yellow lines):"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)("picture",{children:[(0,t.jsx)("source",{srcset:"https://raw.githubusercontent.com/av1-community-contributors/images/main/tiling_av1.avif?token=GHSAT0AAAAAACEZPDXIZARY5MGSTJW4SI22ZHY636A",type:"image/avif"}),(0,t.jsx)("img",{src:"https://autumn.revolt.chat/attachments/HwhZjoDsdzLZsJM2mjzX7lEDmJn1xcYNdrQqmOxPYW/tiling_av1.jpeg",alt:"Tiling",width:"1280",height:"768",loading:"lazy"})]}),"\n",(0,t.jsx)(n.admonition,{title:"Tile usage",type:"note",children:(0,t.jsxs)(n.p,{children:["Do NOT use tiles for 1080p and below, use 1 ",(0,t.jsx)(n.code,{children:"tile-columns"})," at 1440p (2K), 2 ",(0,t.jsx)(n.code,{children:"tile-columns"})," and 1 ",(0,t.jsx)(n.code,{children:"tile-rows"})," for 2160p (4K)"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--lag-in-frames=64"})," Similar to x264/x265 ",(0,t.jsx)(n.code,{children:"rc-lookahead"}),". Sets a number of frames to look ahead for frametype and ratecontrol, allowing for better compression decision making. Setting to a value greater than 64 is generally not considered useful."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--aq-mode"})," adaptive quantization mode, 0 is better most of the time"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--tune-content=psy --tune=ssim"})," As the name suggests they are tunes that affect the video output, for the better, and for the worst"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Tunes to use",type:"info",children:(0,t.jsxs)(n.p,{children:["Set ",(0,t.jsx)(n.code,{children:"tune-content"})," to ",(0,t.jsx)(n.code,{children:"animation"})," if you're encoding above ",(0,t.jsx)(n.code,{children:"cq-level=30"})," A.K.A lower quality, despite it's name\nSet ",(0,t.jsx)(n.code,{children:"tune-content"})," to ",(0,t.jsx)(n.code,{children:"psy"})," for everything else, ",(0,t.jsxs)(n.strong,{children:["do not use if you encode above ",(0,t.jsx)(n.code,{children:"cq-level=30"})]}),"\nFor ",(0,t.jsx)(n.code,{children:"tune"}),", this is a bit tricky. For now, the meta seems to be ",(0,t.jsx)(n.code,{children:"ssim"}),", but back then it was ",(0,t.jsx)(n.code,{children:"lavish"})," which is considered THE best tune because it's based on ",(0,t.jsx)(n.a,{href:"https://github.com/google/butteraugli",children:"butteraugli"}),". Now it's fallen behind because its more blurry than ",(0,t.jsx)(n.code,{children:"ssim"}),", and before that it was ",(0,t.jsx)(n.code,{children:"butteraugli"}),", and then ",(0,t.jsx)(n.code,{children:"ipq_vmaf_psy"}),", and finally just ",(0,t.jsx)(n.code,{children:"ipq"}),".\nIf you use any of the VMAF tunes, ",(0,t.jsxs)(n.strong,{children:["you need to specify ",(0,t.jsx)(n.code,{children:"--vmaf-model-path="})," to where you put it"]}),"."]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--enable-keyframe-filtering=1"})," We're setting it to 1 because of compatibility reasons, 2 is more efficient but there are seeking issues and FFmpeg for some reason can't input it."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--sb-size=dynamic"})," Allows the encoder to use 128x128 block partitioning besides 64x64 which gives an efficiency boost, ignore it."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--deltaq-mode"})," set to 0 because its just better."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--arnr-strength=1"})," Controls how strong the filtering will be, 1 is good for 3D Pixar CGI-like and 2D animation, use 4 if you're doing live action content. Using maximum at higher bitrates would just result in a blurry mess."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--disable-kf --enable-fwd-kf=0"})," We're disabling keyframes cause ",(0,t.jsx)(n.strong,{children:"Av1an already did scene detection, so we wont have to."}),". And it speeds things up."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--kf-max-dist=9999"})," Maximum keyframe interval, we're setting it at the highest possible value since av1an's scene detection keyframe interval is already 240 by default"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--enable-chroma-deltaq=1 --enable-qm=1 --quant-b-adapt=1"})," Parameters that give you free efficiency boost."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--enable-dnl-denoising=0"})," Disables the encoder's built-in denoising technique when grain synthesis is enabled, you can optionally set it to 1 when you have a pretty noisy video since it works quite well."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Concatenation Error on Linux",type:"info",children:(0,t.jsxs)(n.p,{children:["Run ",(0,t.jsx)(n.code,{children:"ulimit -n 200000"}),", resume, and it should concatenate just fine. If it still errors, head to the encode directory > encode, and run ",(0,t.jsx)(n.code,{children:"mkvmerge @../options.json"})]})}),"\n",(0,t.jsx)(n.h2,{id:"merging-everything",children:"Merging Everything"}),"\n",(0,t.jsxs)(n.p,{children:["Once you're done just encode your audio using ffmpeg (or just passthrough it), subtitles should be carried along with your video output, and merge them in MKVToolNix! Don't want Matroska files? That's fine, you can use FFmpeg or MP4Box to output into ",(0,t.jsx)(n.code,{children:"mp4"}),", just keep in mind that PGS/SUP/VOBSUB subtitles are not supported and Opus audio support is still experimental."]}),"\n",(0,t.jsx)(n.h2,{id:"tips--tricks",children:"Tips & Tricks"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--denoise-noise-level=10"})," Alternative to ",(0,t.jsx)(n.code,{children:"photon-noise"}),", slower than photon-noise and is the OG grain synthesis method, performs okay and just serves as an alternative. Don't attempt to use it at high values (>12) since it creates noticeable grain patterns."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--arnr-maxframes"})," to set max reference frames that will be used to filter the encode, higher values would make the video blurrier at high fidelity but look better at lower bitrates."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--butteraugli-resize-factor=2"})," if you use any of the butteraugli-based tunes (lavish, butteraugli) to speed it up without much losses and ",(0,t.jsx)(n.code,{children:"--butteraugli-intensity-target=250"})," to match the content light level."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"final-thoughts",children:"Final Thoughts"}),"\n",(0,t.jsx)(n.p,{children:'Encoding has always been about experimentation for the best, there is really no "One size fits all" for encoding content, as they differ from scene complexity, how it\'s captured (2D/Real life), film grain, dark scenes, etc. So experiment away for your specific type of content!'}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Guide originally hosted on ",(0,t.jsx)(n.a,{href:"https://rentry.co/AV1",children:"https://rentry.co/AV1"}),", rewrite and migration by Simulping."]})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7233:e=>{e.exports=JSON.parse('{"permalink":"/blog/av1-encoding-for-dummies","source":"@site/blog/2023-09-03-av1-for-dummies.mdx","title":"AV1 Encoding for Dummies","description":"This guide will show you how to encode in AV1 the *right* and *optimal* way.","date":"2023-09-03T00:00:00.000Z","tags":[{"inline":true,"label":"video","permalink":"/blog/tags/video"},{"inline":true,"label":"compression","permalink":"/blog/tags/compression"}],"readingTime":16.09,"hasTruncateMarker":true,"authors":[{"name":"Simulping","title":"Maintainer / Encoder","url":"https://github.com/Simulping","image_url":"https://avatars.githubusercontent.com/u/12994794?v=4","imageURL":"https://avatars.githubusercontent.com/u/12994794?v=4","socials":{},"key":null,"page":null},{"name":"Gianni Rosato","title":"Maintainer","url":"https://github.com/gianni-rosato","image_url":"https://avatars.githubusercontent.com/u/35711760?v=4","imageURL":"https://avatars.githubusercontent.com/u/35711760?v=4","socials":{},"key":null,"page":null}],"frontMatter":{"title":"AV1 Encoding for Dummies","description":"This guide will show you how to encode in AV1 the *right* and *optimal* way.","slug":"av1-encoding-for-dummies","authors":[{"name":"Simulping","title":"Maintainer / Encoder","url":"https://github.com/Simulping","image_url":"https://avatars.githubusercontent.com/u/12994794?v=4","imageURL":"https://avatars.githubusercontent.com/u/12994794?v=4"},{"name":"Gianni Rosato","title":"Maintainer","url":"https://github.com/gianni-rosato","image_url":"https://avatars.githubusercontent.com/u/35711760?v=4","imageURL":"https://avatars.githubusercontent.com/u/35711760?v=4"}],"tags":["video","compression"],"image":"/img/compare-guide.webp","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"Embedding the Un-Embeddable","permalink":"/blog/embedding-the-un-embeddable"},"nextItem":{"title":"Reducing Image Load Online","permalink":"/blog/site-optimization"}}')},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var s=i(6540);const t={},o=s.createContext(t);function a(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(o.Provider,{value:n},e.children)}},8547:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/python-path-a89fc4fe6c6eb4c2ea0a7610dd2cf09a.webp"}}]);