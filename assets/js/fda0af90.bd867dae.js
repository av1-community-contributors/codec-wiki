"use strict";(self.webpackChunkcodec_wiki=self.webpackChunkcodec_wiki||[]).push([[5376],{8453:(e,i,s)=>{s.d(i,{R:()=>a,x:()=>l});var n=s(6540);const t={},r=n.createContext(t);function a(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:i},e.children)}},9496:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"colorimetry/primaries","title":"Color Primaries","description":"This section details the first of three settings that are important","source":"@site/docs/colorimetry/primaries.mdx","sourceDirName":"colorimetry","slug":"/colorimetry/primaries","permalink":"/docs/colorimetry/primaries","draft":false,"unlisted":false,"editUrl":"https://github.com/av1-community-contributors/codec-wiki/tree/main/docs/colorimetry/primaries.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Color Primaries","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Color Range","permalink":"/docs/colorimetry/range"},"next":{"title":"Transfer Characteristics","permalink":"/docs/colorimetry/transfer"}}');var t=s(4848),r=s(8453);const a={title:"Color Primaries",sidebar_position:4},l="Color Primaries",o={},d=[{value:"1: BT.709",id:"1-bt709",level:3},{value:"2: Unspecified",id:"2-unspecified",level:3},{value:"4: BT.470M",id:"4-bt470m",level:3},{value:"5: BT.470BG",id:"5-bt470bg",level:3},{value:"6: SMPTE 170M",id:"6-smpte-170m",level:3},{value:"7: SMPTE 240M",id:"7-smpte-240m",level:3},{value:"8: Film",id:"8-film",level:3},{value:"9: BT.2020",id:"9-bt2020",level:3},{value:"10: SMPTE 428",id:"10-smpte-428",level:3},{value:"11: DCI-P3",id:"11-dci-p3",level:3},{value:"12: Display P3",id:"12-display-p3",level:3},{value:"22: EBU Tech 3213",id:"22-ebu-tech-3213",level:3}];function c(e){const i={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"color-primaries",children:"Color Primaries"})}),"\n",(0,t.jsx)(i.p,{children:"This section details the first of three settings that are important\nfor retaining accurate color when encoding videos, those settings\nbeing primaries, color matrix, and transfer characteristics."}),"\n",(0,t.jsxs)(i.p,{children:["Color primaries are used to indicate the correct coordinates for the\nred, blue, and green colors. There are historical reasons for\n",(0,t.jsx)(i.a,{href:"https://xkcd.com/927/",children:"why so many standards exist"}),", and this guide\nwill not go in depth into history lessons, but will explain what\nprimaries are available and when to use each one."]}),"\n",(0,t.jsxs)(i.p,{children:["Note that for primaries, matrices, and transfer, you can view the values\nthat are set on a video using a tool like ",(0,t.jsx)(i.a,{href:"https://mediaarea.net/en/MediaInfo",children:"MediaInfo"}),".\nIf there are no values set, the player will need to guess which values\nto use. A safe default assumption for most modern videos is BT.709,\nalthough this may vary depending on source and resolution for the video.\nIt is strongly recommended to set the correct values when encoding."]}),"\n",(0,t.jsx)(i.p,{children:"Each setting has at least one name and exactly one integer value\nrepresenting it--most encoder softwares will accept one or more of the names,\nbut some tooling such as Vapoursynth and MKVToolnix accepts the integer values\ninstead. The integer values are defined within universal specifications,\nand as such they will be the same across all encoding and playback tools."}),"\n",(0,t.jsx)(i.h3,{id:"1-bt709",children:"1: BT.709"}),"\n",(0,t.jsx)(i.p,{children:"BT.709 is the standard used for modern high-definition video, and is a safe default assumption."}),"\n",(0,t.jsx)(i.p,{children:"This color primary setting is used in the following standards:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.709-6"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.1361-0 conventional colour gamut\nsystem and extended colour gamut system (historical)"}),"\n",(0,t.jsx)(i.li,{children:"IEC 61966-2-1 sRGB or sYCC"}),"\n",(0,t.jsx)(i.li,{children:"IEC 61966-2-4"}),"\n",(0,t.jsx)(i.li,{children:"Society of Motion Picture and Television Engineers\n(SMPTE) RP 177 (1993) Annex B"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"2-unspecified",children:"2: Unspecified"}),"\n",(0,t.jsx)(i.p,{children:"This value indicates that no color primary is set for the video, and the player must decide which value to use."}),"\n",(0,t.jsx)(i.p,{children:"mpv will use the following heuristics in this case:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:'if matrix == "BT.2020" {\n    "BT.2020"\n} else if matrix == "BT.709" {\n    "BT.709"\n} else if width >= 1280 || height > 576 {\n    "BT.709"\n} else if height == 576 {\n    "BT.470BG"\n} else if height == 480 || height == 488 {\n    "SMPTE 170M"\n} else {\n    "BT.709"\n}\n'})}),"\n",(0,t.jsx)(i.h3,{id:"4-bt470m",children:"4: BT.470M"}),"\n",(0,t.jsx)(i.p,{children:"BT.470M is a standard that was used in analog television systems in the United States."}),"\n",(0,t.jsx)(i.p,{children:"This color primary setting is used in the following standards:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.470-6 System M (historical)"}),"\n",(0,t.jsx)(i.li,{children:"United States National Television System Committee\n1953 Recommendation for transmission standards for\ncolor television"}),"\n",(0,t.jsx)(i.li,{children:"United States Federal Communications Commission\n(2003) Title 47 Code of Federal Regulations 73.682 (a) (20)"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"5-bt470bg",children:"5: BT.470BG"}),"\n",(0,t.jsx)(i.p,{children:"BT.470BG is a standard that was used for European (PAL) television systems and DVDs."}),"\n",(0,t.jsx)(i.p,{children:"This color primary setting is used in the following standards:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.470-6 System B, G (historical)"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.601-7 625"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.1358-0 625 (historical)"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.1700-0 625 PAL and 625 SECAM"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"6-smpte-170m",children:"6: SMPTE 170M"}),"\n",(0,t.jsx)(i.p,{children:"SMPTE 170M is a standard that was used for NTSC television systems and DVDs."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.601-7 525"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.1358-1 525 or 625 (historical)"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.1700-0 NTSC"}),"\n",(0,t.jsx)(i.li,{children:"SMPTE ST 170 (2004)"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"7-smpte-240m",children:"7: SMPTE 240M"}),"\n",(0,t.jsx)(i.p,{children:"SMPTE 240M was an interim standard used during the early days of HDTV (1988-1998). Its primaries are equivalent to SMPTE 170M."}),"\n",(0,t.jsx)(i.h3,{id:"8-film",children:"8: Film"}),"\n",(0,t.jsx)(i.p,{children:"This represents generic film using Illuminant C."}),"\n",(0,t.jsx)(i.h3,{id:"9-bt2020",children:"9: BT.2020"}),"\n",(0,t.jsx)(i.p,{children:"BT.2020 is a standard used for ultra-high-definition video, i.e. 4K and higher. It may be used with or without HDR, as HDR is defined by the transfer characteristics."}),"\n",(0,t.jsx)(i.p,{children:"If you have a video with unset color primaries, it is safer to assume BT.709 by default. Videos which are BT.2020 should already have their color metadata set."}),"\n",(0,t.jsx)(i.p,{children:"This color primary setting is used in the following standards:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.2020-2"}),"\n",(0,t.jsx)(i.li,{children:"Rec. ITU-R BT.2100-2"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"10-smpte-428",children:"10: SMPTE 428"}),"\n",(0,t.jsx)(i.p,{children:"SMPTE 428 is used for D-Cinema Distribution Masters, aka DCDM."}),"\n",(0,t.jsx)(i.p,{children:"This color primary setting is used in the following standards:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"SMPTE ST 428-1 (2019)"}),"\n",(0,t.jsx)(i.li,{children:"(CIE 1931 XYZ as in ISO 11664-1)"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"11-dci-p3",children:"11: DCI-P3"}),"\n",(0,t.jsxs)(i.p,{children:["DCI-P3 is a color space created by ",(0,t.jsx)(i.a,{href:"https://www.dcimovies.com",children:"Digital Cinema Initiatives"}),". DCI-P3 has similar chromaticities (end points) and color gamut to AdobeRGB, which is more widely used in graphic arts and photography. DCI-P3 features a substantially larger gamut than sRGB."]}),"\n",(0,t.jsx)(i.h3,{id:"12-display-p3",children:"12: Display P3"}),"\n",(0,t.jsx)(i.p,{children:"Display P3 is a standard developed by Apple that is used across iPhones, iPads, iMacs, MacBooks, and Apple-branded external displays released since 2016."}),"\n",(0,t.jsx)(i.p,{children:"Display P3 differs from DCI-P3 in a couple of ways:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Unlike DCI-P3, Display P3's white point is the same as the sRGB/AdobeRGB white point of 6500K"}),"\n",(0,t.jsx)(i.li,{children:"DCI-P3 has a gamma of 2.6, while Display P3 uses sRGB's gamma, which is closer to 2.2"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"22-ebu-tech-3213",children:"22: EBU Tech 3213"}),"\n",(0,t.jsx)(i.p,{children:"The EBU Tech 3213 standard defines the colorspace used by PAL/SECAM television systems in 1975, defining the chromaticities of primary colors and the white reference. It has largely been superseded by newer standards like SMPTE 170M and is considered obsolete for modern applications. The transfer function was never properly defined for this colorspace."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);