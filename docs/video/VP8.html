<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-video/VP8" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">VP8 | Codec Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.x266.mov/img/codec-wiki-social-card.webp"><meta data-rh="true" name="twitter:image" content="https://wiki.x266.mov/img/codec-wiki-social-card.webp"><meta data-rh="true" property="og:url" content="https://wiki.x266.mov/docs/video/VP8"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="VP8 | Codec Wiki"><meta data-rh="true" name="description" content="VP8 is a video compression format developed by On2 Technologies released in 2008. It was later released as a royalty free codec in 2010 by Google. Its efficiency is competitive with AVC. VP8 was a significant player in the royalty-free codec space and was designed primarily around web video delivery. It is the precursor to VP9 &amp; AV1, which both further improve video compression efficiency. VP8 has faced criticism for having a messy specification that many considered to be incomplete. It also serves as the basis for the WebP image format."><meta data-rh="true" property="og:description" content="VP8 is a video compression format developed by On2 Technologies released in 2008. It was later released as a royalty free codec in 2010 by Google. Its efficiency is competitive with AVC. VP8 was a significant player in the royalty-free codec space and was designed primarily around web video delivery. It is the precursor to VP9 &amp; AV1, which both further improve video compression efficiency. VP8 has faced criticism for having a messy specification that many considered to be incomplete. It also serves as the basis for the WebP image format."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://wiki.x266.mov/docs/video/VP8"><link data-rh="true" rel="alternate" href="https://wiki.x266.mov/docs/video/VP8" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.x266.mov/docs/video/VP8" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"VP8","item":"https://wiki.x266.mov/docs/video/VP8"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Codec Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Codec Wiki Atom Feed">






<link rel="preload" href="static/fonts/Inter.var.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="static/fonts/Mona-Sans.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="static/fonts/Monaspace-Neon.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://analytics.x266.mov/js/script.js" defer="defer" data-domain="wiki.x266.mov"></script><link rel="stylesheet" href="/assets/css/styles.cc785465.css">
<script src="/assets/js/runtime~main.ad5ae513.js" defer="defer"></script>
<script src="/assets/js/main.a55df174.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.svg" alt="AV1 &quot;Stonks&quot; logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.svg" alt="AV1 &quot;Stonks&quot; logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Codec Wiki</b></a><a class="navbar__item navbar__link" href="/docs/introduction/prologue">Get Started</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://discord.gg/bbQD5MjDr3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord"></a><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/introduction/prologue">üí° Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/audio/intro">üîä Audio</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/video/AVC">üìπÔ∏è Video</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/AVC">AVC / H.264</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/HEVC">HEVC / H.265</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/VVC">VVC / H.266</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/video/VP8">VP8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/VP9">VP9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/AV1">AV1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/AVS3">AVS3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/VC-1">VC-1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/Theora">Theora</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/FFV1">FFV1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/utvideo">UT Video</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/prores">ProRes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/ECM">ECM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/DSV">DSV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/video/DSV2">DSV2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/data/zip">üíΩ Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/images/JPEG">üèûÔ∏è Images</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/encoders/x264">üíæ Encoders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/encoders_hw/nvenc">üöÄ Hardware Encoders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/subtitles/SRT">üí¨ Subtitles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/filtering/vapoursynth">üéûÔ∏è Filtering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/colorimetry/intro">üé® Colorimetry</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/utilities/Aviator">üõ†Ô∏è Utilities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/metrics/PSNR">üëÅÔ∏è Metrics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-players">‚ñ∂Ô∏è Video Players</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/resources">üóÉÔ∏è Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribution-guide">‚úíÔ∏è Contribution Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FAQ">‚ùì FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy-policy">üîè Privacy Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/terms-of-use">ü§ù Terms of Use</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üìπÔ∏è Video</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">VP8</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>VP8</h1></header>
<p>VP8 is a video compression format developed by On2 Technologies released in 2008. It was later released as a royalty free codec in 2010 by Google. Its efficiency is competitive with <a href="/docs/video/AVC">AVC</a>. VP8 was a significant player in the royalty-free codec space and was designed primarily around web video delivery. It is the precursor to <a href="/docs/video/VP9">VP9</a> &amp; <a href="/docs/video/AV1">AV1</a>, which both further improve video compression efficiency. VP8 has faced criticism for having a messy specification that many considered to be incomplete. It also serves as the basis for the <a href="/docs/images/WebP">WebP</a> image format.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="design-assumptions">Design Assumptions<a href="#design-assumptions" class="hash-link" aria-label="Direct link to Design Assumptions" title="Direct link to Design Assumptions">‚Äã</a></h2>
<p>VP8&#x27;s design is built upon several core assumptions tailored for web video.</p>
<ul>
<li>It is designed to operate efficiently within a quality range from &quot;watchable video&quot; (around 30dB <a href="/docs/metrics/PSNR">PSNR</a>) to &quot;visually lossless&quot; (around 45dB PSNR), anticipating limited network bandwidth.</li>
<li>VP8 was designed to support efficient implementations across a wide breadth of client devices, from low-power mobile/embedded systems to powerful desktops.</li>
<li>VP8 is optimized to handle common web video image formats; 4:2:0 color sampling, 8-bit per channel color depth, progressive scan (not interlaced), and image dimensions up to 16383x16383 pixels. Internally, lossy VP8 works exclusively in 8-bit YUV 4:2:0 (chroma is 1/4 the resolution of luma).</li>
</ul>
<p>The overall architecture involves decomposing video frames into 16x16 luma (Y) and 8x8 chroma (U, V) macroblocks. These macroblocks can be further divided into 4x4 subblocks.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-features">Technical Features<a href="#technical-features" class="hash-link" aria-label="Direct link to Technical Features" title="Direct link to Technical Features">‚Äã</a></h2>
<p>VP8 incorporates features that contribute to its compression efficiency and low computational complexity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frequency-transforms--adaptive-quantization">Frequency Transforms &amp; Adaptive Quantization<a href="#frequency-transforms--adaptive-quantization" class="hash-link" aria-label="Direct link to Frequency Transforms &amp; Adaptive Quantization" title="Direct link to Frequency Transforms &amp; Adaptive Quantization">‚Äã</a></h3>
<p>VP8 utilizes transform coding to process the residual signal after intra or inter predictions.</p>
<p>The <a href="/docs/introduction/terminology#discrete-cosine-transform-dct">Discrete Cosine Transform</a> is applied to all luma and chroma residual signals. The DCT is used due to its high  VP8 defines a 4x4 inverse 2D DCT process as part of its bitstream format and decoding.</p>
<p>For macroblocks using 16x16 luma prediction modes, the DC coefficients from the 16 4x4 luma blocks within the macroblock are used to create another 4x4 block that undergoes a 4x4 Walsh-Hadamard Transform (WHT) to reduce redundancy among the DC coefficients in the 16x16 luma area.</p>
<p>VP8 defines 128 quantization levels within its operating quality range (~30dB to ~45dB). For each video frame, different quantization levels can be applied to six frequency components:</p>
<ul>
<li>1st order luma DC</li>
<li>1st order luma AC</li>
<li>2nd order luma DC</li>
<li>2nd order luma AC</li>
<li>chroma DC</li>
<li>chroma AC</li>
</ul>
<p>Additionally, VP8 includes a region-dependent quantization scheme, allowing macroblocks within a frame to be classified into four different segments, each with its own set of quantization parameters. All calculations in the transform, quantization, dequantization, and inverse transform pipeline can be performed using 16-bit operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flexible-reference-frames">Flexible Reference Frames<a href="#flexible-reference-frames" class="hash-link" aria-label="Direct link to Flexible Reference Frames" title="Direct link to Flexible Reference Frames">‚Äã</a></h3>
<p>VP8 uses three types of reference frames for inter-prediction:</p>
<ul>
<li><strong>Last Frame</strong>: The reconstructed frame immediately preceding the frame currently displayed.</li>
<li><strong>Golden Frame</strong>: A frame of decompressed data from an arbitrarily distant point in the past. Encoders can use the Golden Frame to improve coding efficiency by maintaining a copy of the background when foreground objects move, allowing occluded regions to be easily reconstructed. Golden frames also help with error resiliency in real-time video scenarios, like video conferencing.</li>
<li><strong>Alternate Reference Frame (Altref Frame)</strong>: This frame is decoded, but is not necessarily displayed to the user. Its primary purpose is to serve as a reference to improve inter-prediction for other coded frames. Encoders can construct an Altref frame from multiple source frames or using macroblocks from various video frames, providing flexibility for improved compression. For example, it can be used for noise-reduced prediction by creating a &quot;noise-free&quot; reference frame through temporal or spatial filtering.</li>
</ul>
<p>The intelligent use of Golden and Altref frames can compensate for the lack of B-frames (as seen in H.264) by allowing encoders to leverage information from &quot;future&quot; frames without requiring frame reordering in the decoder.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="intra-prediction">Intra Prediction<a href="#intra-prediction" class="hash-link" aria-label="Direct link to Intra Prediction" title="Direct link to Intra Prediction">‚Äã</a></h3>
<p>VP8 employs two main classes of prediction modes, <em>intra</em> and <em>inter</em> prediction. Intra prediction Uses data from within the current video frame. It applies to 4x4 luma, 16x16 luma, and 8x8 chroma blocks. Intra prediction modes for 8x8 chroma and 16x16 luma blocks include:</p>
<ul>
<li><code>H_PRED</code> (horizontal prediction): Fills columns with copies of the left column.</li>
<li><code>V_PRED</code> (vertical prediction): Fills rows with copies of the above row.</li>
<li><code>DC_PRED</code> (DC prediction): Fills the block with a single value, the average of pixels from the above row and left column. For chroma blocks, specific averaging rules apply for edge macroblocks (top row, left column, or top-left corner).</li>
<li><code>TM_PRED</code> (TrueMotion prediction): Unique to VP8, it uses the pixel above and to the left of the block (C), along with pixels from the above row (A) and left column (L). It propagates horizontal differences from A and vertical differences from L to form the prediction block, using the formula <code>Xij = Li + Aj - C</code>. TM_PRED is a frequently used mode, typically for 20% to 45% of all intra-coded blocks.</li>
</ul>
<p>For 4x4 luma blocks, six additional directional intra modes are available. As is the case in other video codecs, keyframes rely solely on intra prediction modes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inter-prediction">Inter Prediction<a href="#inter-prediction" class="hash-link" aria-label="Direct link to Inter Prediction" title="Direct link to Inter Prediction">‚Äã</a></h3>
<p>Inter prediction uses data from previously encoded reference frames. A block is constructed using a motion vector to copy a block from one of the three reference frames (last, golden, altref). VP8 employs efficient motion vector coding by reusing vectors from neighboring macroblocks using modes like <code>NEAREST</code> and <code>NEAR</code>. The <code>SPLITMV</code> mode allows flexible coding of arbitrary block patterns within a macroblock by partitioning it into sub-macroblock patterns, each with its own motion vector. This allows a 16x16 macroblock to be partitioned into up to 16 4x4 blocks, each with a (potentially) new motion vector or inheriting from neighbors.</p>
<p>Motion compensation in VP8 uses quarter-pixel accurate motion vectors for luma pixels and up to one-eighth pixel accurate motion vectors for chroma pixels. It features a single-stage interpolation process and a set of high-performance six-tap interpolation filters for luma, and four-tap bicubic filters for chroma. This achieves optimal frequency response with high computational efficiency. Chroma motion vectors are calculated by averaging the motion vectors of the four corresponding luma subblocks. Motion vectors are limited to a range of -4096 to +4095 full pixels.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="in-loop-deblocking-filtering">In-Loop Deblocking Filtering<a href="#in-loop-deblocking-filtering" class="hash-link" aria-label="Direct link to In-Loop Deblocking Filtering" title="Direct link to In-Loop Deblocking Filtering">‚Äã</a></h3>
<p>VP8 includes a highly adaptive in-loop deblocking filter that reduces blocking artifacts introduced by the quantization of DCT coefficients.</p>
<ul>
<li>The filter type (normal or simple) and strength can be adjusted based on different prediction modes and reference frame types.</li>
<li>It supports implicit segmentation, where different filter strengths can be applied to various parts of the image. For instance, stronger filtering might be applied to intra-coded blocks, while inter-coded blocks using the Golden Frame with a (0,0) motion vector might use a weaker filter.</li>
<li>The choice of loop filter strengths is adjustable on a frame-by-frame basis. Loop filter strength can be adjusted per segment (within a frame) based on region-adaptive schemes.</li>
</ul>
<p>A significant innovation is the ability to skip loop filtering entirely for edges between subblocks internal to a macroblock if the macroblock&#x27;s coding mode is neither <code>B_PRED</code> nor <code>SPLITMV</code> and it has no DCT coefficients coded. This significantly reduces loop-filtering complexity. Loop filtering is applied to the entire frame after macroblock reconstruction and its results are used in the prediction of subsequent frames.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entropy-coding">Entropy Coding<a href="#entropy-coding" class="hash-link" aria-label="Direct link to Entropy Coding" title="Direct link to Entropy Coding">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Lossless Compression</div><div class="admonitionContent_BuS1"><p>This section describes the VP8 bitstream&#x27;s lossless compression step, where all of a lossy bitstream&#x27;s data values are compressed losslessly. For background on this subject, it is recommended to read the <a href="/docs/introduction/lossless">Lossless Compression</a> wiki entry (particularly the section on arithmetic coding).</p></div></div>
<p>Except for a few header bits, the majority of compressed VP8 data values are coded using a boolean arithmetic coder. This coder losslessly compresses sequences of boolean values where the probabilities of 0 or 1 can be accurately estimated. This approach provides significant data rate reduction compared to simpler methods like Huffman coding. Most symbol values are binarized into a series of boolean values using a tree scheme, where a binary tree is created for a set of symbols. Each non-leaf node in the tree has a probability assigned based on the likelihood of taking a branch. This consistent encoding/decoding style for various bitstream values (e.g., macroblock modes, motion vectors, quantized coefficients) improves module reusability in hardware and software implementations.</p>
<p>VP8 models entropy coding contexts using conditional probability distributions for macroblock modes, motion vectors, and quantized transform coefficients. These probability distributions remain stable within a frame and are updated on a per-frame basis. This design achieves lower decoder implementation complexity and allows better error recovery compared to H.264&#x27;s context-based binary arithmetic coding.</p>
<p>VP8&#x27;s bitstream separates compressed data into two categories:</p>
<ul>
<li>Macroblock coding modes &amp; motion vectors</li>
<li>Quantized transform coefficients</li>
</ul>
<p>Critically, VP8 allows transform coefficients to be packed into multiple partitions (up to eight), enabling parallel processing in decoders on multi-core processors. For example, in <code>FOUR_TOKEN_PARTITION</code> mode, coefficients from macroblock rows 0, 4, 8, etc., are packed into the first partition, rows 1, 5, 9, etc., into the second, and so on. This design significantly improves decoder performance on multi-core systems with minimal impact on compression efficiency or single-core performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overall-decoding-process">Overall Decoding Process<a href="#overall-decoding-process" class="hash-link" aria-label="Direct link to Overall Decoding Process" title="Direct link to Overall Decoding Process">‚Äã</a></h2>
<p>A VP8 decoder maintains four YUV frame buffers: the current frame being reconstructed, the immediately previous frame, the most recent golden frame, and the most recent altref frame. The decoding process generally involves:</p>
<ol>
<li>Decoding the frame header, which provides context for the per-macroblock data.</li>
<li>Processing macroblock data in raster-scan order. This includes prediction data (modes/motion vectors) and DCT/WHT coefficients of the residual signal.</li>
<li>Each macroblock is predicted using intra-prediction (from the current frame) or inter-prediction (from a reference frame).</li>
<li>The residue DCT/WHT signal is decoded, dequantized, reverse-transformed, and added to the prediction buffer to produce the reconstructed macroblock.</li>
<li>After all macroblocks are processed, the adaptive in-loop deblocking filter is applied to the entire frame to reduce artifacts.</li>
<li>Finally, reference frame buffers are updated (e.g., current frame replacing golden or altref frame) and prepared for the next frame.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vp8-today">VP8 Today<a href="#vp8-today" class="hash-link" aria-label="Direct link to VP8 Today" title="Direct link to VP8 Today">‚Äã</a></h2>
<p>Experimental results from initial publishing showed that VP8 encoded files were consistently faster to decode (averaging around 30% faster) than H.264 High Profile files at similar bitrates across various hardware platforms. In terms of encoding quality, VP8 achieved competitive results against the best H.264/AVC encoders at the time in its designed operating range for web video.</p>
<p>In practice, reactions to VP8&#x27;s initial performance were mixed. Moscow State University&#x27;s initial numbers for the <a href="/docs/encoders/vpxenc">libvpx</a> encoder (shown below) were lackluster, and the performance claims that accompanied VP8&#x27;s initial release were not appearing to hold up.</p>
<p><img decoding="async" loading="lazy" src="https://raw.githubusercontent.com/av1-community-contributors/images/refs/heads/main/vp8_rd_up.webp" alt="VP8 RD on Pixar&#x27;s &quot;Up&quot;" class="img_ev3q">
<em>VP8 vs <a href="/docs/encoders/x264">x264</a>, Xvid on Pixar&#x27;s &quot;Up&quot;</em></p>
<p>In her &quot;Diary Of An x264 Developer&quot; blog, Fiona Glaser (co-author of <a href="/docs/utilities/ffmpeg">FFmpeg</a>&#x27;s native highly optimized VP8 decoder) discussed the positive and negative aspects of the VP8 video format. She acknowledged that VP8 doesn&#x27;t have to be the best in compression to be useful while the current encoder issues are likely related to the encoder implementation&#x27;s maturity, but she criticized Google for releasing an incomplete and inconsistent ‚Äúbitstream guide‚Äù instead of a proper spec for the codec. The actual encoder/decoder implementation in libvpx differed from the bitstream specification, so the &quot;bitstream guide&quot; nomenclature took hold in what appeared to be a means of avoiding fixing the core issue. Fiona also praised VP8‚Äôs <code>TM_PRED</code> intra prediction mode and tree-based arithmetic coding, but criticized its slow deblocking filter and suboptimal inverse transform ordering.</p>
<p>Today, <a href="/docs/video/VP9">VP9</a> and to some extent <a href="/docs/video/AV1">AV1</a> have largely replaced VP8 as the web&#x27;s most prominent royalty-free video compression standards. While VP8 may have had a rocky development cycle as well as a lackluster reference encoder, the effects of VP8&#x27;s introduction are still felt today. WebP is still a widely adopted web image standard, and VP8 set important precedents for web video that helped push the industry forward (e.g. no interlaced video support; Fiona described interlacing as &quot;the scourge of H.264&quot;). Finally, royalty-free video standardization efforts have seen progressively fewer issues with implementation-to-spec parity, helping guide hardware vendors toward successful implementations more effectively.</p>
<p><em>Sources:</em></p>
<ul>
<li><em><a href="https://web.archive.org/web/20150301015756/http://x264dev.multimedia.cx/archives/486" target="_blank" rel="noopener noreferrer">Fiona Glaser&#x27;s blog</a></em></li>
<li><em>VP8 Data Format and Decoding Guide ‚Äì <a href="https://datatracker.ietf.org/doc/rfc6386/" target="_blank" rel="noopener noreferrer">RFC6386</a></em></li>
<li><em><a href="https://ieeexplore.ieee.org/abstract/document/6012227" target="_blank" rel="noopener noreferrer">Technical overview of VP8, an open source video codec for the web
</a></em></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main/docs/video/VP8.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/video/VVC"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VVC / H.266</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/video/VP9"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">VP9</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#design-assumptions" class="table-of-contents__link toc-highlight">Design Assumptions</a></li><li><a href="#technical-features" class="table-of-contents__link toc-highlight">Technical Features</a><ul><li><a href="#frequency-transforms--adaptive-quantization" class="table-of-contents__link toc-highlight">Frequency Transforms &amp; Adaptive Quantization</a></li><li><a href="#flexible-reference-frames" class="table-of-contents__link toc-highlight">Flexible Reference Frames</a></li><li><a href="#intra-prediction" class="table-of-contents__link toc-highlight">Intra Prediction</a></li><li><a href="#inter-prediction" class="table-of-contents__link toc-highlight">Inter Prediction</a></li><li><a href="#in-loop-deblocking-filtering" class="table-of-contents__link toc-highlight">In-Loop Deblocking Filtering</a></li><li><a href="#entropy-coding" class="table-of-contents__link toc-highlight">Entropy Coding</a></li></ul></li><li><a href="#overall-decoding-process" class="table-of-contents__link toc-highlight">Overall Decoding Process</a></li><li><a href="#vp8-today" class="table-of-contents__link toc-highlight">VP8 Today</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Getting Started</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.x266.mov/docs/introduction/prologue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Prologue</a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/audio/AAC" target="_blank" rel="noopener noreferrer" class="footer__link-item">AAC</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Filtering</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/Vapoursynth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vapoursynth<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/deband" target="_blank" rel="noopener noreferrer" class="footer__link-item">Deband<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/denoise" target="_blank" rel="noopener noreferrer" class="footer__link-item">Denoise<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/terms-of-use" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024 Gianni Rosato & contributors. Content licensed under CC BY-SA 4.0. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>