<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-filtering/basics" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Basics of Filtering | Codec Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.x266.mov/img/codec-wiki-social-card.webp"><meta data-rh="true" name="twitter:image" content="https://wiki.x266.mov/img/codec-wiki-social-card.webp"><meta data-rh="true" property="og:url" content="https://wiki.x266.mov/docs/filtering/basics"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Basics of Filtering | Codec Wiki"><meta data-rh="true" name="description" content="Intro to Filters"><meta data-rh="true" property="og:description" content="Intro to Filters"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://wiki.x266.mov/docs/filtering/basics"><link data-rh="true" rel="alternate" href="https://wiki.x266.mov/docs/filtering/basics" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.x266.mov/docs/filtering/basics" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Codec Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Codec Wiki Atom Feed">






<link rel="preload" href="static/fonts/Inter.var.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="static/fonts/Mona-Sans.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="static/fonts/Monaspace-Neon.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://analytics.x266.mov/js/script.js" defer="defer" data-domain="wiki.x266.mov"></script><link rel="stylesheet" href="/assets/css/styles.80065a72.css">
<script src="/assets/js/runtime~main.16caa3a4.js" defer="defer"></script>
<script src="/assets/js/main.58c91d91.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.svg" alt="AV1 &quot;Stonks&quot; logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.svg" alt="AV1 &quot;Stonks&quot; logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Codec Wiki</b></a><a class="navbar__item navbar__link" href="/docs/introduction/prologue">Get Started</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/bbQD5MjDr3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord"></a><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/introduction/prologue">💡 Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/audio/intro">🔊 Audio</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/video/AVC">📹️ Video</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/data/zip">💽 Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/images/JPEG">🏞️ Images</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/encoders/x264">💾 Encoders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/encoders_hw/nvenc">🚀 Hardware Encoders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/subtitles/SRT">💬 Subtitles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/filtering/vapoursynth">🎞️ Filtering</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/vapoursynth">Vapoursynth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/filtering/basics">Basics of Filtering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/ivtc">Inverse Telecine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/deinterlace">Deinterlace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/decombing">Decombing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/stabilizing">Stabilizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/denoise">Denoise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/dehalo">Dehalo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/antialiasing">Antialiasing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/deband">Deband</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filtering/graining">Graining</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/colorimetry/intro">🎨 Colorimetry</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/utilities/Aviator">🛠️ Utilities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/metrics/PSNR">👁️ Metrics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-players">▶️ Video Players</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/resources">🗃️ Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribution-guide">✒️ Contribution Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FAQ">❓ FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy-policy">🔏 Privacy Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/terms-of-use">🤝 Terms of Use</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">🎞️ Filtering</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Basics of Filtering</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Basics of Filtering with Vapoursynth</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intro-to-filters">Intro to Filters<a href="#intro-to-filters" class="hash-link" aria-label="Direct link to Intro to Filters" title="Direct link to Intro to Filters">​</a></h2>
<p>In order to do filtering, we are going to need some filters. Vapoursynth includes some basic filters, but there are a lot more useful filters
built by the community that can be incredibly useful to us.</p>
<p>For example, we are going to make use of some of the functions in <a href="https://github.com/Jaded-Encoding-Thaumaturgy/vs-tools" target="_blank" rel="noopener noreferrer">vs-tools</a>.
If you are on Arch, the recommended way to install this is via the AUR, using the <code>vapoursynth-plugin-vstools-git</code> package.
For other operating systems, it is simpler to install all of the JET plugins at once, using the <a href="https://github.com/Jaded-Encoding-Thaumaturgy/vs-jet" target="_blank" rel="noopener noreferrer">vs-jet utility</a>.
Note that these do require Python, which you should already have installed if you&#x27;ve installed Vapoursynth. You may have noticed in the previous section
that all Vapoursynth scripts use Python syntax. It is not necessary to know Python in order to write Vapoursynth scripts, although it can be helpful
for some more advanced techniques.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="filter-order">Filter Order<a href="#filter-order" class="hash-link" aria-label="Direct link to Filter Order" title="Direct link to Filter Order">​</a></h2>
<p>Order matters when applying filters to a video. There are certain actions that must be taken at the very start, and certain actions that are better to be done
later in a filter chain. The following image shows a recommended order for many of the most common filter actions:</p>
<p><img decoding="async" loading="lazy" alt="filter chain" src="/assets/images/vs2-bafcc8e7dc68430ca2784ef3f66237c8.webp" width="720" height="409" class="img_ev3q"></p>
<p>If this seems a bit complicated at first, that&#x27;s okay. We will learn about each of these steps one at a time, and when
each of these filters might be needed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bit-depth-and-colorimetry">Bit Depth and Colorimetry<a href="#bit-depth-and-colorimetry" class="hash-link" aria-label="Direct link to Bit Depth and Colorimetry" title="Direct link to Bit Depth and Colorimetry">​</a></h2>
<p>In most cases, the first action we want to take on a video is to ensure the correct <a href="/docs/colorimetry/intro">matrix, primaries, and transfer characteristics</a> are set, and convert the video to 16-bit.
The colorimetry properties are important for ensuring accurate colors, and 16-bit helps filters to work in higher quality and create fewer artifacts.</p>
<p>The currently recommended way to handle this is with the <code>vstools.initialize_clip</code> function. This function will handle both ensuring that colorimetry is set, and converting to 16-bit with appropriate dithering if needed.
We can add it to a script in the following way:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> vapoursynth </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> vs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lsmas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LWLibavSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;myinput.mkv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> vstools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vstools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">initialize_clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_output</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the video has existing colorimetry data set on it, <code>initialize_clip</code> will keep the existing data. Otherwise, it will assume colorimetry based on the video resolution.
Usually, those assumptions will be correct. However, there may be cases where we know that the assumptions are incorrect, and we need to set them manually.
For example, we may have a 4k video that we know was upscaled from a 1080p video, and we want to force BT.709 colorimetry. In that case, we can specify the properties to <code>initialize_clip</code>,
and it will use the properties we specify instead of making guesses.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> vstools </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Primaries</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Matrix</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Transfer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vstools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">initialize_clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> primaries</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Primaries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BT709</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matrix</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Matrix</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BT709</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> transfer</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Transfer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BT709</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>initialize_clip</code> also has a companion function called <code>finalize_clip</code> which will, by default, convert the video down to 10-bit with dithering, and if the video is in limited color range,
clip all pixels to fit within the limited color range (this would be done by the player on playback, but if we do it now, we can save a few bits for the encoder). The function also takes
a <code>bits</code> parameter in case you would like to finalize to 8-bits instead.</p>
<p>As a result, a very basic template for a Vapoursynth script would be something like this:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> vapoursynth </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> vs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lsmas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LWLibavSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;myinput.mkv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> vstools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vstools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">initialize_clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> Add filters inside this section</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vstools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">finalize_clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_output</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cropping">Cropping<a href="#cropping" class="hash-link" aria-label="Direct link to Cropping" title="Direct link to Cropping">​</a></h2>
<p><img decoding="async" loading="lazy" alt="screenshot" src="/assets/images/crop_1-73affad30171f53704bec5d92be8e16b.jpg" width="1920" height="1080" class="img_ev3q"></p>
<p>Sometimes, you may encounter a source that has black bars on the sides or on the top and bottom. Generally, we don&#x27;t like to keep these, and want to remove them. This process is called &quot;cropping&quot;.</p>
<p>First, we need to figure out how many pixels to crop from each side. Fortunately, vs-preview has a tool to make this easy. Using this tool, which is found under the &quot;Misc&quot; section in the bottom right
of the app, allows us to experiment with crop values and find the correct ones without having to reload the Vapoursynth script.</p>
<p><img decoding="async" loading="lazy" alt="crop tool" src="data:image/webp;base64,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" width="789" height="285" class="img_ev3q"></p>
<p>Once we flip the tool to &quot;On&quot;, we can adjust each of the dimensions until we see the black borders disappear. We want to try to get as exact as possible, although the crop values must be a multiple of 2
when working with YUV420 video (which is the most common). In this case, we know we want to remove from the top and bottom, so we will adjust those values until we find the right ones. Note that the size of the bars
may often be the same on both sides, but not always, so do be careful to check both sides.</p>
<p><img decoding="async" loading="lazy" alt="zoom tool" src="data:image/avif;base64,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" width="1241" height="256" class="img_ev3q"></p>
<p>vs-preview&#x27;s zoom tool shown here can also be helpful to ensure we&#x27;ve gotten the right values.</p>
<p>Once we&#x27;ve found the correct values, we can click &quot;Copy cropping command&quot; to copy our value to the clipboard. We can then paste it into our Vapoursynth script, being sure to add the appropriate variable name for our clip.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">std</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Crop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">138</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">138</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Remember to turn off the crop tool in vs-preview, or else we&#x27;ll be doubling the crops from here on. Now, go ahead and reload the preview with Ctrl+R. No more black bars.</p>
<p><img decoding="async" loading="lazy" alt="screenshot" src="/assets/images/crop_2-312cf367bf3cbfb3dd3a0cff94d84811.jpg" width="1920" height="804" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resizing">Resizing<a href="#resizing" class="hash-link" aria-label="Direct link to Resizing" title="Direct link to Resizing">​</a></h2>
<p>Resizing is the process of changing the resolution of a video, whether that&#x27;s making it bigger or smaller. Note that although the general idea is that &quot;higher resolution is better&quot;,
we generally don&#x27;t want to upscale content. This simply makes output videos larger in file size, but doesn&#x27;t result in an increase in quality, because the higher resolution is artificial.
However, there are times when you may want or need to resize a video. Unfortunately, this is not as simple as it sounds, because we want to select a high-quality resizing method.</p>
<p>With this section, we&#x27;ll introduce <a href="https://slow.pics/" target="_blank" rel="noopener noreferrer">slow.pics</a>, a very useful tool for comparing screenshots. Here, we&#x27;ll be using it to show the differences between various resizers.</p>
<p>Vapoursynth comes with several resizers built-in, which will be the easiest to use. Of these, we&#x27;ll be showcasing the following:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Bicubic</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Lanczos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resize</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Spline36</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Bicubic is the most widely used resizer. It is very fast and produces decent quality, but may produce less sharpness than more advanced scalers.
Lanczos produces more sharpness, but may also produce more <a href="/docs/filtering/dehalo">ringing</a>.
Spline36 uses a spline-based resizing method, and produces results somewhere between Bicubic and Lanczos.</p>
<p>However, using plugins, we have access to some more advanced scalers.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vskernels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Catrom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vskernels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Catrom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sigmoid</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vskernels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Hermite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">linear</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vsscale</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SSIM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here we will look at downscalers.</p>
<p>Catrom, short for Catmull-Rom, is a variant of Bicubic which uses different parameters in order to achieve a better balance between sharpness and ringing.
It is often considered the best of the Bicubic kernels for image quality.</p>
<p>In the second example, you can see that we pass an additional <code>sigmoid=True</code> parameter to <code>Catrom</code>. This performs the scaling using a sigmoid function, which flattens the ends of the scaling curve to reduce ringing.</p>
<p>The third example here, Hermite, is another variant of Bicubic, and we are passing <code>linear=True</code> to perform the rescaling in linear light rather than in gamma light. This kernel is very good in regard to
not producing ringing, but it does have the effect of thinning line art. Therefore, although some users prefer it, other users dislike it.</p>
<p>Fourth, we have SSIM, which is a downscaler tuned around the SSIM video quality metric. This downscaler is intended to prioritize preserving detail and sharpness when downscaling.</p>
<p>In <a href="https://slow.pics/c/mb5Rm3k3" target="_blank" rel="noopener noreferrer">this comparison</a>, we can see the differences between the different scalers, on an image that was upscaled to 4k by nnedi3, then downscaled back using the scaler noted in the image title.
Here we have a couple of other <a href="https://slow.pics/c/kQvDOMYh" target="_blank" rel="noopener noreferrer">examples</a> comparing in particular the <a href="https://slow.pics/c/UVwS62Vs" target="_blank" rel="noopener noreferrer">higher-quality scalers</a>.</p>
<p>Of these, my current recommendation would be <code>Catrom(sigmoid=True)</code> for anime, and <code>SSIM</code> for live action. Some users may prefer <code>Hermite(linear=True)</code> for anime.</p>
<p>For upscaling, we have the following high quality options:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vskernels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EwaLanczos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3840</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2160</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vsaa</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Nnedi3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3840</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2160</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vsscale</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Waifu2x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3840</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2160</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ewa-Lanczos is a variant of lanczos intended for high sharpness, making it good for upscaling, where we want an image to look sharper so that it does not appear upscaled.</p>
<p>Nnedi3 is a neural-network-based upscaler which attempts to interpolate every second line to produce a sharp, upscaled image. It is generally safe for use on all content, and produces good results.</p>
<p>Waifu2x is another AI-assisted upscaler, this one tuned specifically on anime. It produces very high quality and sharp images. However, the results of using it on live action content are unknown, so it is recommended to only use it on anime.</p>
<p><a href="https://slow.pics/c/CpISIk1z" target="_blank" rel="noopener noreferrer">Here</a> we can see the effects of these upscalers. My current recommendation would be <code>EwaLanczos</code> for live action, and <code>Waifu2x</code> for anime.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> soifunc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">good_resize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> soifunc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">good_resize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> anime</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Lastly, we have <code>soifunc.good_resize</code>, which is a smart hybrid scaler which automatically chooses the best scaler depending on whether we are upscaling or downscaling,
and may use a different scaler for chroma than it does for luma for even better quality.
Note that the scalers chosen by this function may change over time as new knowledge surfaces, and are based on the above recommendations.
We can also add the <code>anime=True</code> parameter (false by default) to change the scalers to be tuned
more toward the fine line art that is present in anime, rather than the highly detailed elements such as skin and hair that are present in live action.
With these features, it is intended to be an easy-to-use general purpose high-quality upscaler.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="trimming">Trimming<a href="#trimming" class="hash-link" aria-label="Direct link to Trimming" title="Direct link to Trimming">​</a></h2>
<p>Sometimes, we may need to cut out a portion of the video, for example, if we want to encode only the opening theme, or if our source has commercials that we want to remove.
Vapoursynth supports this using Python&#x27;s slice syntax.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1805</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3185</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This snippet will trim the clip to include frames 1805-3184. Note that frame 3185 is <em>not</em> included.</p>
<p>Now, let&#x27;s say we wanted to <em>exclude</em> this segment. We can do this by making clips of the segments we&#x27;d like to keep, and joining them together.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1805</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3185</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This snippet will create trims for the start of the clip to and including frame 1804, and from frame 3185 to the end of the clip. It then joins them together into one clip, in the order we specify.
If we wanted to reverse the segments, so that segment 2 comes first, we could do that simply by changing the order:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3185</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> clip</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1805</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main/docs/filtering/basics.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/filtering/vapoursynth"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Vapoursynth</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/filtering/ivtc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inverse Telecine</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#intro-to-filters" class="table-of-contents__link toc-highlight">Intro to Filters</a></li><li><a href="#filter-order" class="table-of-contents__link toc-highlight">Filter Order</a></li><li><a href="#bit-depth-and-colorimetry" class="table-of-contents__link toc-highlight">Bit Depth and Colorimetry</a></li><li><a href="#cropping" class="table-of-contents__link toc-highlight">Cropping</a></li><li><a href="#resizing" class="table-of-contents__link toc-highlight">Resizing</a></li><li><a href="#trimming" class="table-of-contents__link toc-highlight">Trimming</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Getting Started</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.x266.mov/docs/introduction/prologue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Prologue</a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/audio/AAC" target="_blank" rel="noopener noreferrer" class="footer__link-item">AAC</a></li></ul></div><div class="col footer__col"><div class="footer__title">Filtering</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/Vapoursynth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vapoursynth<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/deband" target="_blank" rel="noopener noreferrer" class="footer__link-item">Deband<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/denoise" target="_blank" rel="noopener noreferrer" class="footer__link-item">Denoise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/terms-of-use" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Gianni Rosato & contributors. Content licensed under CC BY-SA 4.0. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>