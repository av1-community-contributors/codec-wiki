<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-encoders/vpxenc" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">vpxenc | Codec Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.x266.mov/img/codec-wiki-social-card.webp"><meta data-rh="true" name="twitter:image" content="https://wiki.x266.mov/img/codec-wiki-social-card.webp"><meta data-rh="true" property="og:url" content="https://wiki.x266.mov/docs/encoders/vpxenc"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="vpxenc | Codec Wiki"><meta data-rh="true" name="description" content="The content in this entry is incomplete &amp; is in the process of being completed."><meta data-rh="true" property="og:description" content="The content in this entry is incomplete &amp; is in the process of being completed."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://wiki.x266.mov/docs/encoders/vpxenc"><link data-rh="true" rel="alternate" href="https://wiki.x266.mov/docs/encoders/vpxenc" hreflang="en"><link data-rh="true" rel="alternate" href="https://wiki.x266.mov/docs/encoders/vpxenc" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Codec Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Codec Wiki Atom Feed">






<link rel="preload" href="static/fonts/Inter.var.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="static/fonts/Mona-Sans.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="static/fonts/Monaspace-Neon.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://analytics.x266.mov/js/script.js" defer="defer" data-domain="wiki.x266.mov"></script><link rel="stylesheet" href="/assets/css/styles.80065a72.css">
<script src="/assets/js/runtime~main.16caa3a4.js" defer="defer"></script>
<script src="/assets/js/main.58c91d91.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.svg" alt="AV1 &quot;Stonks&quot; logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.svg" alt="AV1 &quot;Stonks&quot; logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Codec Wiki</b></a><a class="navbar__item navbar__link" href="/docs/introduction/prologue">Get Started</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/bbQD5MjDr3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord"></a><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/introduction/prologue">💡 Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/audio/intro">🔊 Audio</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/video/AVC">📹️ Video</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/data/zip">💽 Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/images/JPEG">🏞️ Images</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/encoders/x264">💾 Encoders</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/x264">x264</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/x265">x265</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/x266">x266</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/aomenc">aomenc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/SVT-AV1-PSY">SVT-AV1-PSY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/SVT-AV1">SVT-AV1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/rav1e">rav1e</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/Aurora1">Aurora1 AV1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/encoders/vpxenc">vpxenc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/SVT-VP9">SVT-VP9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/SVT-HEVC">SVT-HEVC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/Kvazaar">Kvazaar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/VVenC">VVenC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/uvg266">uvg266</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/VTM">VTM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/AVM">AVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/HM">HM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/JM">JM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/aom-av1-lavish">aom-av1-lavish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/aom-psy101">aom-psy101</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/uavs3e">uavs3e</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/eve-vp9">Eve-VP9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoders/eve-av1">Eve-AV1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/encoders_hw/nvenc">🚀 Hardware Encoders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/subtitles/SRT">💬 Subtitles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/filtering/vapoursynth">🎞️ Filtering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/colorimetry/intro">🎨 Colorimetry</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/utilities/Aviator">🛠️ Utilities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/metrics/PSNR">👁️ Metrics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/video-players">▶️ Video Players</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/resources">🗃️ Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribution-guide">✒️ Contribution Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/FAQ">❓ FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy-policy">🔏 Privacy Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/terms-of-use">🤝 Terms of Use</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">💾 Encoders</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">vpxenc</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>vpxenc</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Under Maintenance</div><div class="admonitionContent_BuS1"><p>The content in this entry is incomplete &amp; is in the process of being completed.</p></div></div>
<p>vpxenc is part of the libvpx library for working with the <a href="/docs/video/VP9">VP9</a> &amp; <a href="/docs/video/VP8">VP8</a> video codecs. It is capable of encoding &amp; decoding both formats, where vpxenc is the multipurpose encoder. VP9 competes with <a href="/docs/video/HEVC">HEVC</a> (h265) &amp; <a href="/docs/video/AVC">AVC</a> (h264) in coding efficiency, and has been superseded by <a href="/docs/video/AV1">AV1</a>. VP8 competes with AVC.</p>
<p>By default, vpxenc isn&#x27;t as competitive as it could be, but even when used properly, most tests show that h265 offers slightly better quality per bit with efficient encoders like <a href="/docs/encoders/x265">x265</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ffmpeg">FFmpeg<a href="#ffmpeg" class="hash-link" aria-label="Direct link to FFmpeg" title="Direct link to FFmpeg">​</a></h2>
<p>vpxenc is available in FFmpeg via <code>libvpx</code> for <strong>VP8</strong> and <code>libvpx-vp9</code> for <strong>VP9</strong>, to check if you have it, run <code>ffmpeg -h encoder=libvpx</code> or <code>ffmpeg -h encoder=libvpx-vp9</code>.
Non-FFmpeg standard VP8/VP9 parameters are <strong>not</strong> supported.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-color-space">Supported Color Space<a href="#supported-color-space" class="hash-link" aria-label="Direct link to Supported Color Space" title="Direct link to Supported Color Space">​</a></h2>
<p>vpxenc supports the following color spaces:</p>
<table><thead><tr><th>Format</th><th style="text-align:center">Chroma Subsampling</th><th>Supported Bit Depth(s)</th></tr></thead><tbody><tr><td>YUV420P</td><td style="text-align:center">4:2:0</td><td>8-bit</td></tr><tr><td>YUVA420P</td><td style="text-align:center">4:2:0</td><td>8-bit (Alpha Channel)</td></tr><tr><td>YUV422P</td><td style="text-align:center">4:2:2</td><td>8-bit</td></tr><tr><td>YUV440P</td><td style="text-align:center">4:4:0</td><td>8-bit</td></tr><tr><td>YUV444P</td><td style="text-align:center">4:4:4</td><td>8-bit</td></tr><tr><td>GBRP</td><td style="text-align:center">-</td><td>8-bit</td></tr><tr><td>YUV420P10LE</td><td style="text-align:center">4:2:0</td><td>10-bit</td></tr><tr><td>YUV422P10LE</td><td style="text-align:center">4:2:2</td><td>10-bit</td></tr><tr><td>YUV440P10LE</td><td style="text-align:center">4:4:0</td><td>10-bit</td></tr><tr><td>YUV444P10LE</td><td style="text-align:center">4:4:4</td><td>10-bit</td></tr><tr><td>GBRP10LE</td><td style="text-align:center">-</td><td>10-bit</td></tr><tr><td>YUV420P12LE</td><td style="text-align:center">4:2:0</td><td>12-bit</td></tr><tr><td>YUV422P12LE</td><td style="text-align:center">4:2:2</td><td>12-bit</td></tr><tr><td>YUV440P12LE</td><td style="text-align:center">4:4:0</td><td>12-bit</td></tr><tr><td>YUV444P12LE</td><td style="text-align:center">4:4:4</td><td>12-bit</td></tr><tr><td>GBRP12LE</td><td style="text-align:center">-</td><td>12-bit</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-binary">Installing (Binary)<a href="#installing-binary" class="hash-link" aria-label="Direct link to Installing (Binary)" title="Direct link to Installing (Binary)">​</a></h2>
<p>Windows builds are available on Lastrosade&#x27;s <a href="https://jeremylee.sh/bins/" target="_blank" rel="noopener noreferrer">website</a> and can be downloaded <a href="https://jeremylee.sh/bins/vpx.7z" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>For Linux and MacOS, it may be be available when searching &quot;vpxenc&quot; or &quot;libvpx&quot; in their respective package managers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compiling-windowsmacoslinux">Compiling (Windows/MacOS/Linux)<a href="#compiling-windowsmacoslinux" class="hash-link" aria-label="Direct link to Compiling (Windows/MacOS/Linux)" title="Direct link to Compiling (Windows/MacOS/Linux)">​</a></h2>
<p>Windows users are recommended to compile via MinGW-W64 which comes with <a href="https://msys2.org/" target="_blank" rel="noopener noreferrer">MSYS2</a>.</p>
<p>nasm/yasm, and the GNU build tools (make, configure) are required for this operation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloning">Cloning<a href="#cloning" class="hash-link" aria-label="Direct link to Cloning" title="Direct link to Cloning">​</a></h3>
<p>First, cloning</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://chromium.googlesource.com/webm/libvpx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> libvpx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> libvpx_build </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> libvpx_build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-file">./configure file<a href="#configure-file" class="hash-link" aria-label="Direct link to ./configure file" title="Direct link to ./configure file">​</a></h3>
<p>Now here comes the annoying part, the configure file have really bad defaults. So you will need to adjust them, here are some recommended options you should use:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/configure </span><span class="token parameter variable" style="color:#36acaa">--cpu</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">native --extra-cxxflags</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;-ffat-lto-objects -flto&quot;</span><span class="token plain"> --extra-cflags</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;-ffat-lto-objects -flto&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--as</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">auto --enable-vp9-highbitdepth --enable-libyuv --enable-webm-io --enable-vp9 --enable-runtime-cpu-detect --enable-internal-stats --enable-postproc --enable-vp9-postproc --enable-static --disable-shared --enable-vp9-temporal-denoising --disable-unit-tests --disable-docs --enable-multithread</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now let&#x27;s break down what each of them do.</p>
<ul>
<li>
<p><code>--cpu=native</code>
Native CPU optimizations.</p>
</li>
<li>
<p><code>--extra-cxxflags=&quot;-ffat-lto-objects -flto&quot; --extra-cflags=&quot;-ffat-lto-objects -flto&quot;</code>
More CPU optimizations for faster encoding.</p>
</li>
<li>
<p><code>--as=auto</code>
Set the assembler to auto, so it can choose between <code>yasm</code> and <code>nasm</code>.</p>
</li>
<li>
<p><code>--enable-vp9-highbitdepth</code>
Enables high bit depth (&gt;=10 bits) when encoding VP9.</p>
</li>
<li>
<p><code>--enable-libyuv</code>
Enables YUV4MPEG input support (IMPORTANT), otherwise it will only accept RAW.</p>
</li>
<li>
<p><code>--enable-webm-io</code>
Enables input and output support for WebM container.</p>
</li>
<li>
<p><code>--enable-vp9</code>
Enables VP9 encoding support.</p>
</li>
<li>
<p><code>--enable-runtime-cpu-detect</code>
Enables runtime CPU detection.</p>
</li>
<li>
<p><code>--enable-internal-stats</code>
Enables internal statistics for the encoder for debug purposes.</p>
</li>
<li>
<p><code>--enable-postproc</code>
Enables postprocessing stuff for better video quality.</p>
</li>
<li>
<p><code>--enable-vp9-postproc</code>
Enables VP9-specific postprocessing stuff for better video quality.</p>
</li>
<li>
<p><code>--enable-static</code>
Enables static builds.</p>
</li>
<li>
<p><code>--disable-shared</code>
Disables shared builds.</p>
</li>
<li>
<p><code>--enable-vp9-temporal-denoising</code>
Disables spatial denoising for VP9 and enables temporal instead.</p>
</li>
<li>
<p><code>--disable-unit-tests</code>
Disables unit tests, unless you want to test the encoder as a developer. This should be disabled.</p>
</li>
<li>
<p><code>--disable-docs</code>
Disables documentation, as enabling this also requires doxygen.</p>
</li>
<li>
<p><code>--enable-multithread</code>
Enables the usage of multiple CPU threads for encoding and decoding.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-configure-options">Other ./configure options<a href="#other-configure-options" class="hash-link" aria-label="Direct link to Other ./configure options" title="Direct link to Other ./configure options">​</a></h3>
<p>There are other options you may want use to either speed up compiliation or drop unwanted features.</p>
<ol>
<li>
<p><code>--disable-vp8 --disable-vp9-decoder --disable-vp8-decoder</code>
Disables VP8 encoding and <code>vpxdec</code> (decoder) to be compiled.</p>
</li>
<li>
<p><code>--enable-small</code>
Prioritizes smaller encoder binary size over encoding speed.</p>
</li>
<li>
<p><code>--target=</code>
Enables target compilation for a specific operating system or CPU architecture. There&#x27;s a lot of them. Here&#x27;s an exhaustive list of all of them based on the configure file:</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">arm64-android-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-darwin-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-darwin20-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-darwin21-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-darwin22-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-darwin23-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-win64-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-win64-vs15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-win64-vs16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-win64-vs16-clangcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-win64-vs17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm64-win64-vs17-clangcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-android-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-darwin-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-linux-rvct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-none-rvct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-win32-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-win32-vs14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-win32-vs15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-win32-vs16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7-win32-vs17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv7s-darwin-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">armv8-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loongarch32-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loongarch64-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mips32-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mips64-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ppc64le-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sparc-solaris-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-android-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin8-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin8-icc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin9-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin9-icc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin10-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin11-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin12-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin13-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin14-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin15-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin16-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-darwin17-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-iphonesimulator-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-linux-icc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-os2-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-solaris-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-win32-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-win32-vs14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-win32-vs15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-win32-vs16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86-win32-vs17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-android-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin9-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin10-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin11-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin12-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin13-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin14-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin15-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin16-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin17-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin18-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin19-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin20-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin21-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin22-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-darwin23-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-iphonesimulator-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-linux-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-linux-icc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-solaris-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-win64-gcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-win64-vs14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-win64-vs15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-win64-vs16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x86_64-win64-vs17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">generic-gnu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For <strong>Windows</strong> compilation with MinGW you may need to use <code>--target=x86_64-win64-gcc</code> and <code>--target=arm64-darwin22-gcc</code> for <strong>MacOS</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-gnu-make">Running GNU make<a href="#running-gnu-make" class="hash-link" aria-label="Direct link to Running GNU make" title="Direct link to Running GNU make">​</a></h3>
<p>After successfully running the configure command above, run <code>make -j $(nproc)</code> to start compiling with your CPU count. The resulting binary will be called <code>vpxenc</code> and you can copy it wherever you like.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vp8">VP8<a href="#vp8" class="hash-link" aria-label="Direct link to VP8" title="Direct link to VP8">​</a></h2>
<p><em>Incomplete</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vp9">VP9<a href="#vp9" class="hash-link" aria-label="Direct link to VP9" title="Direct link to VP9">​</a></h2>
<p>For encoding VP9, vpxenc&#x27;s default parameters are not considered optimal. There are a lot of options that are either disabled without reason or are simply misconfigured, hurting coding efficiency at little cost otherwise. As of mid-2021, some parameters (the TPL-model, lag-in-frames and auto-alt-ref frames) were changed (since libvpx 1.9.0 and libvpx 1.10.0) which means that there&#x27;s not much use of setting these three parameters unless you&#x27;re in <a href="/docs/utilities/ffmpeg">FFmpeg</a>. This section covers the most important options libvpx-vp9 has to offer, recommended settings, &amp; what they do.</p>
<p>It is important to note that the vpxenc parameters provided below are considered optimal because they are efficient, but VP9 Profile 2 isn&#x27;t compatible with many hardware-accelerated VP9 decoding implementations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="encoding">Encoding<a href="#encoding" class="hash-link" aria-label="Direct link to Encoding" title="Direct link to Encoding">​</a></h3>
<ul>
<li><code>--codec=vp9</code></li>
</ul>
<p>Self-explanatory.</p>
<ul>
<li><code>--passes=2</code></li>
</ul>
<p>vpxenc&#x27;s 2-pass mode is quite fast compared to 2-pass in <a href="/docs/encoders/x264">x264</a> and x265. Only use 1-pass mode for real-time applications, which won&#x27;t be covered here yet. It is the default in the standalone vpxenc libvpx-vp9 encoder.</p>
<ul>
<li><code>--webm</code></li>
</ul>
<p>Enables WebM output for the encoder, and passes the encoder flags set. It is not necessary to enable it, but since it passes the encoder flags, I would use it. Can be changed to <code>--ivf</code> for an ivf video stream.</p>
<ul>
<li><code>--good</code></li>
</ul>
<p>This is a sort of quality deadline, the minimum speed the encoder is allowed to go to. It isn&#x27;t recommended to use <code>--best</code> as it is slow for the quality uplift you get. Do not use RT for anything but real-time encoding.</p>
<ul>
<li><code>--threads=8</code></li>
</ul>
<p>Dictates the number of threads the encoder should spawn. It doesn’t mean it’ll scale all that well over those 8 threads. On a 16 thread CPU with a single encoder instance, I would use 8 threads. With multiple encoder instance encoding(with qencoder/av1an/neav1e), I would set it to 2 threads.</p>
<ul>
<li><code>--profile=2</code></li>
</ul>
<p>VP9 profile 2 is obligatory if you want 10-bit &amp; 12-bit support for HDR, and improved quality from 8-bit.</p>
<ul>
<li><code>--lag-in-frames=25</code></li>
</ul>
<p>Lag-in-frames is the libvpx equivalent of lookahead in x264. The higher the number, the slower the encoder will be, but at the upside of making it more efficient. Going above –lag-in-frames=12 also activates another setting called alternate reference frames. 25 is the maximum you can get in libvpx-vp9. It is the default in the standalone vpxenc libvpx-vp9 encoder.</p>
<ul>
<li><code>--end-usage=q</code></li>
</ul>
<p>Q mode is the closest equivalent to CRF that libvpx-vp9 offers, so use it if maximum quality is desired.</p>
<ul>
<li><code>--cq-level=25</code></li>
</ul>
<p>For 1080p30 8-bit content, it is recommended to go with a Q of 25; you can go lower if you value higher quality over pure efficiency. For 1080p60 8-bit content, I would recommend going with a higher Q value with a delta of around 15. So, a Q of 30 to 40 is usually recommended. Depending on the content, you may have to tune this value, so this advice is only useful in choosing a starting point.</p>
<ul>
<li><code>--kf-max-dist=[input FPS * 10]</code></li>
</ul>
<p>This tells the encoder to have a maximum number of frames between keyframes. It will usually place a lower number of keyframes in content like movies, TV shows, or animated shows, so you can set it to a very high number or not set it at all if you want maximum efficiency for this kind of content. Otherwise, I would go with the 10-second rule: <code>--kf-max-dist=240</code> for 24FPS content, 300 for 30FPS content, 600 for 60FPS content, and so on.</p>
<ul>
<li><code>--cpu-used=3</code></li>
</ul>
<p>This is where the biggest balance of quality to speed is with libvpx-vp9. This is similar to presets in x264 and x265, except the lower the number, the slower the encoder takes. Using <code>--cpu-used=3</code> &amp; below enables RDO, which increases quality at the expense of speed.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><code>--cpu-used=5</code> and above are <em>slower</em> in the 1st pass, so it isn&#x27;t recommended to use them anyway.</p></div></div>
<ul>
<li><code>--auto-alt-ref=6</code></li>
</ul>
<p>Activates alternate reference frames. Alternate reference frames are &quot;invisible&quot; frames which are used as references when creating the final display frames.</p>
<p>More alternate reference frames is typically more efficient. Setting this greater than 1 activates overlay frames and isn&#x27;t compatible with the 8-bit color profiles.</p>
<ul>
<li><code>--arnr-maxframes=7</code></li>
</ul>
<p>This is the maximum number of alternate reference frames the encoder is allowed to use. For most content, 7 is usually a good bet, and it is the default. With animated content, going with a value of 12 or to the max is a good bet, as animated content benefits from more additional alt-ref frames than other content. Be aware that increasing this value will impact encode speed.</p>
<ul>
<li><code>--arnr-strength=4</code></li>
</ul>
<p>This setting dictates how much denoising will occur in the alt-ref frames. Lowering it to 2 or 3 is usually a good bet for noisier/grainy content to try and retain more detail, but 4 is a sane starting place. The default setting is 5, which is fine for most content, but it can be beneficial going a bit lower. For animation, keeping the default of 5 is likely a better option.</p>
<ul>
<li><code>--aq-mode=0</code></li>
</ul>
<p>Adaptive quantization is the way for an encoder to spend more bits in certain areas to improve <a href="/docs/introduction/psychovisual">psychovisual fidelity</a>. <code>--aq-mode=0</code> works well on clean content (animation, video games, screen content). <code>--aq-mode=2</code> is recommended when you want to give more detail to more complex parts of a video.</p>
<ul>
<li><code>--frame-boost=1</code></li>
</ul>
<p>This flag lets the encoder periodically boost the bitrate of a scene/frame if it needs it. Leaving it at the default <code>--frame-boost=0</code> is usually a good bet, &amp; this isn&#x27;t a particularly salient change.</p>
<ul>
<li><code>--tune-content=default</code></li>
</ul>
<p>This determines how the encoder is tuned. In libvpx-vp9, there are three options: <code>default</code>, <code>screen</code>, and <code>film</code>. Default is for most scenarios, screen is for screen content(video games, live-streaming content like web pages &amp; your screen), and film is for heavily dithered/grainy video. Leaving it at the default for about everything but screen content as described above is probably the best option. <code>--tune-content=screen</code> with <code>--aq-mode=2</code> is not recommended, as it creates some odd artifacts. It is advised to use <code>--aq-mode=0</code> if <code>--tune-content=screen</code> is activated, or if you want better perceptual quality, <code>--aq-mode=1</code>.</p>
<ul>
<li><code>--row-mt=1</code></li>
</ul>
<p>Enables row multi-threading in libvpx-vp9. <em>Always</em> enable it no matter what, as it does not hurt efficiency, but boosts speed considerably. This feature is disabled by default.</p>
<ul>
<li><code>--bit-depth=10</code></li>
</ul>
<p>Always use 10-bit for maximum efficiency &amp; minimal banding, even with an 8-bit source. Make sure to enable <code>--profile=2</code> as mentioned above.</p>
<ul>
<li><code>--tile-columns=1</code></li>
</ul>
<p>This setting divides the video into tile columns for easier parallelization when encoding &amp; decoding. Setting <code>--tile-columns=1</code>, you will get 2¹ tile columns. Setting it higher is a trade-off between parallelization &amp; coding efficiency, as more tiles means less information your encoder can work with, and this will result in decreased efficiency. Do note there is an upper threshold in regards to the number of tile columns you can get due to the fixed minimum tile width of 256 pixels. So, this means 4 tile columns (2²) for 720p and 1080p, 8 tile columns (2⁴) for 1440p/4k, and so on. If you set a tile column number that is too high, it will drop down to the lowest supported number of tile columns at the input resolution.</p>
<ul>
<li><code>--tile-rows=0</code></li>
</ul>
<p>This setting divides the video into tile rows. This option is different from columns because although it also makes decoding performance higher, it does not scale as well as tile columns &amp; doesn’t increase encoder threading nearly as much. Always use more tile-columns than rows, or leave the number of tile rows at default (0). Leaving the encoder defaults at <code>--tile-rows=0</code> &amp; <code>--tile-columns=0</code> will result in the highest overall coding efficiency possible with these options.</p>
<ul>
<li><code>--enable-tpl=1</code></li>
</ul>
<p>This option enables a temporal layer model, which helps with coding efficiency. It is the default in the standalone vpxenc libvpx-vp9 encoder.</p>
<p>All of these options are only available for the standalone vpxenc program. Here is a sample FFmpeg command line interpretation of the commands above, with some options missing:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> input.mkv </span><span class="token parameter variable" style="color:#36acaa">-c:v</span><span class="token plain"> libvpx-vp9 </span><span class="token parameter variable" style="color:#36acaa">-pix_fmt</span><span class="token plain"> yuv420p10le </span><span class="token parameter variable" style="color:#36acaa">-pass</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-quality</span><span class="token plain"> good </span><span class="token parameter variable" style="color:#36acaa">-threads</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-profile:v</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> -lag-in-frames </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-crf</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-b:v</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-g</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">240</span><span class="token plain"> -cpu-used </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> -auto-alt-ref </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> -arnr-maxframes </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> -arnr-strength </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> -aq-mode </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -tune-content default -tile-rows </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -tile-columns </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> -enable-tpl </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> -row-mt </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> null -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> input.mkv </span><span class="token parameter variable" style="color:#36acaa">-c:v</span><span class="token plain"> libvpx-vp9 </span><span class="token parameter variable" style="color:#36acaa">-pix_fmt</span><span class="token plain"> yuv420p10le </span><span class="token parameter variable" style="color:#36acaa">-pass</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-quality</span><span class="token plain"> good </span><span class="token parameter variable" style="color:#36acaa">-threads</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-profile:v</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> -lag-in-frames </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-crf</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-b:v</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-g</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">240</span><span class="token plain"> -cpu-used </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> -auto-alt-ref </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> -arnr-maxframes </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> -arnr-strength </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> -aq-mode </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -tune-content default -tile-rows </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -tile-columns </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> -enable-tpl </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> -row-mt </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> output.mkv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, you can pass a raw .y4m stream to standalone vpxenc &amp; encode that way.</p>
<p><em>VP9 section written based on work by BlueSwordM, who has granted written permission for this wiki page to exist in its current fashion</em></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main/docs/encoders/vpxenc.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/encoders/Aurora1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Aurora1 AV1</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/encoders/SVT-VP9"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SVT-VP9</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ffmpeg" class="table-of-contents__link toc-highlight">FFmpeg</a></li><li><a href="#supported-color-space" class="table-of-contents__link toc-highlight">Supported Color Space</a></li><li><a href="#installing-binary" class="table-of-contents__link toc-highlight">Installing (Binary)</a></li><li><a href="#compiling-windowsmacoslinux" class="table-of-contents__link toc-highlight">Compiling (Windows/MacOS/Linux)</a><ul><li><a href="#cloning" class="table-of-contents__link toc-highlight">Cloning</a></li><li><a href="#configure-file" class="table-of-contents__link toc-highlight">./configure file</a></li><li><a href="#other-configure-options" class="table-of-contents__link toc-highlight">Other ./configure options</a></li><li><a href="#running-gnu-make" class="table-of-contents__link toc-highlight">Running GNU make</a></li></ul></li><li><a href="#vp8" class="table-of-contents__link toc-highlight">VP8</a></li><li><a href="#vp9" class="table-of-contents__link toc-highlight">VP9</a><ul><li><a href="#encoding" class="table-of-contents__link toc-highlight">Encoding</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Getting Started</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.x266.mov/docs/introduction/prologue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Prologue</a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/audio/AAC" target="_blank" rel="noopener noreferrer" class="footer__link-item">AAC</a></li></ul></div><div class="col footer__col"><div class="footer__title">Filtering</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/Vapoursynth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vapoursynth<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/deband" target="_blank" rel="noopener noreferrer" class="footer__link-item">Deband<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/filtering/denoise" target="_blank" rel="noopener noreferrer" class="footer__link-item">Denoise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/av1-community-contributors/codec-wiki/tree/main" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/terms-of-use" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.x266.mov/docs/privacy-policy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Gianni Rosato & contributors. Content licensed under CC BY-SA 4.0. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>